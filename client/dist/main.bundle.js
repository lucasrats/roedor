webpackJsonp(["main"],{

/***/ "./node_modules/moment/locale recursive ^\\.\\/.*$":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};
function webpackContext(req) {
	return __webpack_require__(webpackContextResolve(req));
};
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) // check for number or string
		throw new Error("Cannot find module '" + req + "'.");
	return id;
};
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncatched exception popping up in devtools
	return Promise.resolve().then(function() {
		throw new Error("Cannot find module '" + req + "'.");
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/app.component.css":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/app.component.html":
/***/ (function(module, exports) {

module.exports = "<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n  <a class=\"navbar-brand\" href=\"#\">{{title}}</a>\r\n  <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n    <span class=\"navbar-toggler-icon\"></span>\r\n  </button>\r\n\r\n  <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\" *ngIf=\"identity\">\r\n    <ul class=\"navbar-nav mr-auto\">\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\" [routerLink]=\"['/home']\" [routerLinkActive]=\"['active']\">Inicio</a>\r\n      </li>\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\" [routerLink]=\"['/tournaments']\" [routerLinkActive]=\"['active']\">Torneos</a>\r\n      </li>\r\n      <!--\r\n      <li class=\"nav-item\">\r\n        <span class=\"glyphicon glyphicon-user\"></span>\r\n        <a class=\"nav-link\" [routerLink]=\"['/timeline']\" [routerLinkActive]=\"['active']\">Timeline</a>\r\n      </li>\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\" [routerLink]=\"['/gente']\" [routerLinkActive]=\"['active']\">Gente</a>\r\n      </li>\r\n      -->\r\n\r\n      <li class=\"nav-item\" *ngIf=\"identity.role == 'ROLE_ADMIN'\">\r\n        <a class=\"nav-link\" [routerLink]=\"['/admin']\" [routerLinkActive]=\"['active']\">ADMIN</a>\r\n      </li>\r\n\r\n    </ul>\r\n    <ul class=\"nav navbar-nav ml-auto\">\r\n      <li class=\"nav-item dropdown\">\r\n        <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown2\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" (click)=\"setStatus1Notifications()\">\r\n          <i class=\"fa fa-bell\" ></i>\r\n          <span class=\"button__badge\" *ngIf=\"notifications && notificationCount > 0\">{{notifications.length}}</span>\r\n        </a>\r\n        <div class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n          <small>Marcar todas como leídas</small>\r\n          <div *ngFor=\"let notification of notifications\">\r\n            <hr>\r\n            <a class=\"dropdown-item\" href=\"\">{{notification.type}}</a>\r\n            <ul>\r\n              <li><small>{{notification.timestamp | amDateFormat:'DD-MMM-YYYY'}}</small></li>\r\n              <li><button type=\"button\" class=\"btn btn-primary btn-sm\" data-toggle=\"tooltip\" title=\"Marcar como leída\" (click)=\"readNotif(notification._id)\">Marcar leída</button></li>\r\n            </ul>\r\n          </div>\r\n\r\n        </div>\r\n      </li>\r\n      <li class=\"nav-item dropdown\">\r\n        <!--\r\n        <a href=\"#\"><img src=\"{{ url + 'get-image-user/' + identity.image }}\" *ngIf=\"identity && identity.image\" /></a>\r\n        <a href=\"#\"><img src=\"assets/default_user.png\" class=\"avatar-default\" *ngIf=\"!identity && identity.image\" /></a>\r\n        -->\r\n        <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n          {{identity.nick}}\r\n        </a>\r\n        <div class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n          <!-- <a class=\"dropdown-item\" [routerLink]=\"['/perfil', identity._id]\">Mi perfil</a> -->\r\n          <a class=\"dropdown-item\" [routerLink]=\"['mis-datos']\">Mis datos</a>\r\n          <a class=\"dropdown-item\" [routerLink]=\"['mis-partidos']\">Mis partidos</a>\r\n          <!--<a class=\"dropdown-item\" [routerLink]=\"['/mensajes']\" [routerLinkActive]=\"['active']\">Mis mensajes</a>-->\r\n          <div class=\"dropdown-divider\"></div>\r\n          <a class=\"dropdown-item\" (click)=\"logout()\">Cerrar sesión</a>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n\r\n  <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\" *ngIf=\"!identity\">\r\n    <ul class=\"navbar-nav mr-auto\">\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\" [routerLink]=\"['/login']\" [routerLinkActive]=\"['active']\">Login</a>\r\n      </li>\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\" [routerLink]=\"['/registro']\" [routerLinkActive]=\"['active']\">Registro</a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n\r\n</nav>\r\n\r\n<router-outlet></router-outlet>\r\n"

/***/ }),

/***/ "./src/app/app.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng_push__ = __webpack_require__("./node_modules/ng-push/ng-push.umd.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ng_push___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ng_push__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var AppComponent = /** @class */ (function () {
    function AppComponent(_route, _router, _userService, _pushNotifications) {
        this._route = _route;
        this._router = _router;
        this._userService = _userService;
        this._pushNotifications = _pushNotifications;
        this.title = 'ROEDOR.NET';
        this.url = __WEBPACK_IMPORTED_MODULE_4__services_global__["a" /* GLOBAL */].url;
    }
    AppComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.identity = this._userService.getIdentity();
        //notificaciones
        this._userService.getNotifications().subscribe(function (response) {
            if (response.notifications) {
                _this.notifications = response.notifications;
                _this.notificationCount = response.total;
            }
            else {
                _this.status = 'error';
            }
        }, function (error) {
            var errorMessage = error;
            //console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
        this._pushNotifications.requestPermission();
    };
    //ngDoCheck ocurre cada vez que hay un cambio
    AppComponent.prototype.ngDoCheck = function () {
        this.identity = this._userService.getIdentity();
    };
    AppComponent.prototype.readNotif = function (id_notif) {
        var _this = this;
        this._userService.setViewedNotification(id_notif).subscribe(function (response) {
            if (response.notification) {
                _this.status = 'OK';
            }
            else {
                _this.status = 'error';
            }
        }, function (error) {
            var errorMessage = error;
            //console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    AppComponent.prototype.setStatus1Notifications = function () {
        this.notifications.forEach(function (notification) {
            notification.status = 1;
            //notification.save();
        });
        this.notificationCount = 0;
    };
    AppComponent.prototype.logout = function () {
        localStorage.clear();
        this.identity = null;
        this._router.navigate(['/']);
    };
    AppComponent.prototype.notifPrueba = function () {
        this._pushNotifications.create('Test', { body: 'something' }).subscribe(function (res) { return console.log(res); }, function (err) { return console.log(err); });
    };
    AppComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'app-root',
            template: __webpack_require__("./src/app/app.component.html"),
            styles: [__webpack_require__("./src/app/app.component.css")],
            providers: [__WEBPACK_IMPORTED_MODULE_2__services_user_service__["a" /* UserService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_3_ng_push__["PushNotificationsService"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__ = __webpack_require__("./node_modules/@angular/platform-browser/esm5/platform-browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_routing__ = __webpack_require__("./src/app/app.routing.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_angular2_moment__ = __webpack_require__("./node_modules/angular2-moment/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_angular2_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_angular2_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ng_push__ = __webpack_require__("./node_modules/ng-push/ng-push.umd.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ng_push___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_ng_push__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__messages_messages_module__ = __webpack_require__("./src/app/messages/messages.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__tournament_tournament_module__ = __webpack_require__("./src/app/tournament/tournament.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__app_component__ = __webpack_require__("./src/app/app.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__components_login_login_component__ = __webpack_require__("./src/app/components/login/login.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__components_register_register_component__ = __webpack_require__("./src/app/components/register/register.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__components_home_home_component__ = __webpack_require__("./src/app/components/home/home.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__components_user_edit_user_edit_component__ = __webpack_require__("./src/app/components/user-edit/user-edit.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__components_users_users_component__ = __webpack_require__("./src/app/components/users/users.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__components_sidebar_sidebar_component__ = __webpack_require__("./src/app/components/sidebar/sidebar.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__components_timeline_timeline_component__ = __webpack_require__("./src/app/components/timeline/timeline.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__components_publications_publications_component__ = __webpack_require__("./src/app/components/publications/publications.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__components_profile_profile_component__ = __webpack_require__("./src/app/components/profile/profile.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__components_following_following_component__ = __webpack_require__("./src/app/components/following/following.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__components_followers_followers_component__ = __webpack_require__("./src/app/components/followers/followers.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__components_tournaments_tournaments_component__ = __webpack_require__("./src/app/components/tournaments/tournaments.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__components_createTournament_createTournament_component__ = __webpack_require__("./src/app/components/createTournament/createTournament.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__components_admin_admin_component__ = __webpack_require__("./src/app/components/admin/admin.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__components_matches_matches_component__ = __webpack_require__("./src/app/components/matches/matches.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__services_user_guard__ = __webpack_require__("./src/app/services/user.guard.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



//import { HttpModule} from '@angular/http';






// Componentes
















// Servicios


var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_9__app_component__["a" /* AppComponent */],
                __WEBPACK_IMPORTED_MODULE_10__components_login_login_component__["a" /* LoginComponent */],
                __WEBPACK_IMPORTED_MODULE_11__components_register_register_component__["a" /* RegisterComponent */],
                __WEBPACK_IMPORTED_MODULE_12__components_home_home_component__["a" /* HomeComponent */],
                __WEBPACK_IMPORTED_MODULE_13__components_user_edit_user_edit_component__["a" /* UserEditComponent */],
                __WEBPACK_IMPORTED_MODULE_14__components_users_users_component__["a" /* UsersComponent */],
                __WEBPACK_IMPORTED_MODULE_15__components_sidebar_sidebar_component__["a" /* SidebarComponent */],
                __WEBPACK_IMPORTED_MODULE_16__components_timeline_timeline_component__["a" /* TimelineComponent */],
                __WEBPACK_IMPORTED_MODULE_17__components_publications_publications_component__["a" /* PublicationsComponent */],
                __WEBPACK_IMPORTED_MODULE_18__components_profile_profile_component__["a" /* ProfileComponent */],
                __WEBPACK_IMPORTED_MODULE_19__components_following_following_component__["a" /* FollowingComponent */],
                __WEBPACK_IMPORTED_MODULE_20__components_followers_followers_component__["a" /* FollowersComponent */],
                __WEBPACK_IMPORTED_MODULE_23__components_admin_admin_component__["a" /* AdminComponent */],
                __WEBPACK_IMPORTED_MODULE_21__components_tournaments_tournaments_component__["a" /* TournamentsComponent */],
                __WEBPACK_IMPORTED_MODULE_22__components_createTournament_createTournament_component__["a" /* CreateTournamentComponent */],
                __WEBPACK_IMPORTED_MODULE_24__components_matches_matches_component__["a" /* MatchesComponent */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__["a" /* BrowserModule */],
                __WEBPACK_IMPORTED_MODULE_2__angular_forms__["a" /* FormsModule */],
                __WEBPACK_IMPORTED_MODULE_4__app_routing__["b" /* routing */],
                __WEBPACK_IMPORTED_MODULE_3__angular_common_http__["b" /* HttpClientModule */],
                __WEBPACK_IMPORTED_MODULE_5_angular2_moment__["MomentModule"],
                __WEBPACK_IMPORTED_MODULE_6_ng_push__["PushNotificationsModule"],
                __WEBPACK_IMPORTED_MODULE_7__messages_messages_module__["a" /* MessagesModule */],
                __WEBPACK_IMPORTED_MODULE_8__tournament_tournament_module__["a" /* TournamentModule */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_4__app_routing__["a" /* appRoutingProviders */],
                __WEBPACK_IMPORTED_MODULE_25__services_user_service__["a" /* UserService */],
                __WEBPACK_IMPORTED_MODULE_26__services_user_guard__["a" /* UserGuard */]
            ],
            bootstrap: [__WEBPACK_IMPORTED_MODULE_9__app_component__["a" /* AppComponent */]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/app.routing.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return appRoutingProviders; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return routing; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_login_login_component__ = __webpack_require__("./src/app/components/login/login.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_register_register_component__ = __webpack_require__("./src/app/components/register/register.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_home_home_component__ = __webpack_require__("./src/app/components/home/home.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_user_edit_user_edit_component__ = __webpack_require__("./src/app/components/user-edit/user-edit.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_users_users_component__ = __webpack_require__("./src/app/components/users/users.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_timeline_timeline_component__ = __webpack_require__("./src/app/components/timeline/timeline.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__components_profile_profile_component__ = __webpack_require__("./src/app/components/profile/profile.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__components_following_following_component__ = __webpack_require__("./src/app/components/following/following.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__components_followers_followers_component__ = __webpack_require__("./src/app/components/followers/followers.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__components_tournaments_tournaments_component__ = __webpack_require__("./src/app/components/tournaments/tournaments.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__components_createTournament_createTournament_component__ = __webpack_require__("./src/app/components/createTournament/createTournament.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__components_admin_admin_component__ = __webpack_require__("./src/app/components/admin/admin.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__components_matches_matches_component__ = __webpack_require__("./src/app/components/matches/matches.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__services_user_guard__ = __webpack_require__("./src/app/services/user.guard.ts");

// Componentes














var appRoutes = [
    { path: '', component: __WEBPACK_IMPORTED_MODULE_3__components_home_home_component__["a" /* HomeComponent */] },
    { path: 'home', component: __WEBPACK_IMPORTED_MODULE_3__components_home_home_component__["a" /* HomeComponent */] },
    { path: 'login', component: __WEBPACK_IMPORTED_MODULE_1__components_login_login_component__["a" /* LoginComponent */] },
    { path: 'registro', component: __WEBPACK_IMPORTED_MODULE_2__components_register_register_component__["a" /* RegisterComponent */] },
    { path: 'mis-datos', component: __WEBPACK_IMPORTED_MODULE_4__components_user_edit_user_edit_component__["a" /* UserEditComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_14__services_user_guard__["a" /* UserGuard */]] },
    { path: 'mis-partidos', component: __WEBPACK_IMPORTED_MODULE_13__components_matches_matches_component__["a" /* MatchesComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_14__services_user_guard__["a" /* UserGuard */]] },
    { path: 'gente', component: __WEBPACK_IMPORTED_MODULE_5__components_users_users_component__["a" /* UsersComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_14__services_user_guard__["a" /* UserGuard */]] },
    { path: 'gente/:page', component: __WEBPACK_IMPORTED_MODULE_5__components_users_users_component__["a" /* UsersComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_14__services_user_guard__["a" /* UserGuard */]] },
    { path: 'timeline', component: __WEBPACK_IMPORTED_MODULE_6__components_timeline_timeline_component__["a" /* TimelineComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_14__services_user_guard__["a" /* UserGuard */]] },
    { path: 'perfil/:id', component: __WEBPACK_IMPORTED_MODULE_7__components_profile_profile_component__["a" /* ProfileComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_14__services_user_guard__["a" /* UserGuard */]] },
    { path: 'siguiendo/:id/:page', component: __WEBPACK_IMPORTED_MODULE_8__components_following_following_component__["a" /* FollowingComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_14__services_user_guard__["a" /* UserGuard */]] },
    { path: 'seguidores/:id/:page', component: __WEBPACK_IMPORTED_MODULE_9__components_followers_followers_component__["a" /* FollowersComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_14__services_user_guard__["a" /* UserGuard */]] },
    { path: 'tournaments', component: __WEBPACK_IMPORTED_MODULE_10__components_tournaments_tournaments_component__["a" /* TournamentsComponent */] },
    { path: 'crear-torneo', component: __WEBPACK_IMPORTED_MODULE_11__components_createTournament_createTournament_component__["a" /* CreateTournamentComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_14__services_user_guard__["a" /* UserGuard */]] },
    //rutas ADMIN
    { path: 'admin', component: __WEBPACK_IMPORTED_MODULE_12__components_admin_admin_component__["a" /* AdminComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_14__services_user_guard__["a" /* UserGuard */]] },
    //ruta 404
    { path: '**', component: __WEBPACK_IMPORTED_MODULE_3__components_home_home_component__["a" /* HomeComponent */] }
];
var appRoutingProviders = [];
var routing = __WEBPACK_IMPORTED_MODULE_0__angular_router__["c" /* RouterModule */].forRoot(appRoutes);


/***/ }),

/***/ "./src/app/components/admin/admin.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-4\">\r\n\t<h3>{{title}}</h3>\r\n\r\n\t<div class=\"sidebar-admin\">\r\n\t\t<ul class=\"nav nav-pills nav-stacked nav-pills-stacked-example\">\r\n\t\t\t<li role=\"presentation\" [routerLinkActive]=\"['active']\">\r\n\t\t\t\t<a [routerLink]=\"['tournaments']\">Torneos</a>\r\n\t\t\t</li>\r\n\t\t\t<li role=\"presentation\" [routerLinkActive]=\"['active']\">\r\n\t\t\t\t<a [routerLink]=\"['users']\">Usuarios</a>\r\n\t\t\t</li>\r\n\t\t\t<li role=\"presentation\" [routerLinkActive]=\"['active']\">\r\n\t\t\t\t<a [routerLink]=\"['games']\">Juegos</a>\r\n\t\t\t</li>\r\n\t\t\t<li role=\"presentation\" [routerLinkActive]=\"['active']\">\r\n\t\t\t\t<a [routerLink]=\"['news']\">Información</a>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t</div>\r\n</div>\r\n\r\n<div class=\"col-lg-8\">\r\n\t<!-- components/router -->\r\n\t<router-outlet></router-outlet>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/admin/admin.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AdminComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var AdminComponent = /** @class */ (function () {
    function AdminComponent() {
        this.title = 'Bienvenido al panel admin';
    }
    AdminComponent.prototype.ngOnInit = function () {
        console.log('admin.component cargado OK');
    };
    AdminComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'admin',
            template: __webpack_require__("./src/app/components/admin/admin.component.html")
        }),
        __metadata("design:paramtypes", [])
    ], AdminComponent);
    return AdminComponent;
}());



/***/ }),

/***/ "./src/app/components/createTournament/createTournament.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-8\">\r\n\t<h1 class=\"h1-strong\">{{title}}</h1>\r\n\r\n\t<div class=\"alert alert-success\" *ngIf=\"status == 'success'\">\r\n\t\tTorneo dado de alta, <a [routerLink]=\"['/tournaments']\"> búscalo aquí</a>\r\n\t</div>\r\n\r\n\t<div class=\"alert alert-danger\" *ngIf=\"status == 'error'\">\r\n\t\tNo ha podido completarse el alta del torneo, por favor, revisa los datos y prueba de nuevo.\r\n\t</div>\r\n\r\n\t<form #createTournamentForm=\"ngForm\" (ngSubmit)=\"onSubmit(createTournamentForm)\" class=\"col-lg-12\">\r\n\r\n    <div class=\"form-row\">\r\n      <div class=\"form-group col-md-6\">\r\n        <label>Nombre</label>\r\n  \t\t\t<input type=\"text\" name=\"name\" #name=\"ngModel\" [(ngModel)]=\"tournament.name\" class=\"form-control\" required />\r\n  \t\t\t<span *ngIf=\"!name.valid && name.touched\">\r\n  \t\t\t\tEl nombre es obligatorio\r\n  \t\t\t</span>\r\n      </div>\r\n      <div class=\"form-group col-md-6\">\r\n        <label>Juego</label>\r\n        <select class=\"form-control\" name=\"game\" #game=\"ngModel\" [(ngModel)]=\"tournament.game\" required>\r\n          <option value=\"5a93e6c12571da136870cb61\">Hearthstone</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <div class=\"row\">\r\n        <legend class=\"col-form-label col-sm-2 pt-0\">Tipo torneo</legend>\r\n        <div *ngFor=\"let option of typesTournament\">\r\n          <div class=\"col-sm-10\">\r\n            <div class=\"form-check\">\r\n              <input type=\"radio\"\r\n               name=\"types\"\r\n               value=\"{{option.value}}\"\r\n               #types=\"ngModel\"\r\n               [(ngModel)]=\"tournament.type\"\r\n               class=\"form-check-input\" />\r\n               <label class=\"form-check-label\">{{option.desc}}</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"form-row\">\r\n      <div class=\"form-group col-md-2\">\r\n        <label for=\"max_players\">Max. Jugadores</label>\r\n        <select id=\"max_players\" name=\"max_players\" class=\"form-control\" #max_players=\"ngModel\" [(ngModel)]=\"tournament.max_players\" required>\r\n          <option value=\"2\">2</option>\r\n\t\t\t\t\t<option value=\"4\">4</option>\r\n\t\t\t\t\t<option value=\"8\">8</option>\r\n\t\t\t\t\t<option value=\"16\">16</option>\r\n\t\t\t\t\t<option value=\"32\">32</option>\r\n        </select>\r\n      </div>\r\n      <div class=\"form-group col-md-2\">\r\n        <label for=\"bo\">Best Of</label>\r\n        <select id=\"bo\" name=\"bo\" class=\"form-control\" #bo=\"ngModel\" [(ngModel)]=\"tournament.bo\" required>\r\n          <option value=\"1\">BO1</option>\r\n\t\t\t\t\t<option value=\"3\">BO3</option>\r\n\t\t\t\t\t<option value=\"5\">BO5</option>\r\n        </select>\r\n      </div>\r\n      <div class=\"form-group col-md-2\">\r\n        <label for=\"bans\">Baneos</label>\r\n        <input type=\"text\" class=\"form-control\" maxlength=\"1\" id=\"bans\" name=\"bans\" #bans=\"ngModel\" [(ngModel)]=\"tournament.bans\" required pattern=\"^[0-9]$\">\r\n      </div>\r\n\t\t\t<div class=\"form-group col-md-2\">\r\n        <label for=\"draft\">Draft (nº de sobres)</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"draft\" name=\"draft\" #draft=\"ngModel\" [(ngModel)]=\"tournament.draft\" required pattern=\"^[0-9]$\">\r\n      </div>\r\n\t\t\t<div class=\"form-group col-md-4\">\r\n        <label for=\"decks\">¿Envío de mazos por jugador?</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"decks\" name=\"decks\" #decks=\"ngModel\" [(ngModel)]=\"tournament.decks\" required pattern=\"^[0-9]$\" placeholder=\"Dejar a 0 si no requiere envío de mazos\">\r\n      </div>\r\n    </div>\r\n\t\t<div class=\"form-group\">\r\n\t\t\t<label for=\"bans\">Fecha de inicio</label>\r\n\t\t\t<input type=\"text\" class=\"form-control\" id=\"start_date\" name=\"start_date\" #start_date=\"ngModel\" [(ngModel)]=\"tournament.start_date\" required placeholder=\"DD/MM/AAAA\">\r\n\t\t</div>\r\n    <div class=\"form-group\">\r\n      <label for=\"rules\">Reglas del Torneo</label>\r\n      <textarea class=\"form-control\" id=\"rules\" name=\"rules\" rows=\"3\" #rules=\"ngModel\" [(ngModel)]=\"tournament.rules\"></textarea>\r\n    </div>\r\n\r\n    <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"!createTournamentForm.form.valid\">Enviar</button>\r\n\t</form>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/createTournament/createTournament.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateTournamentComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_tournament__ = __webpack_require__("./src/app/models/tournament.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_tournament_service__ = __webpack_require__("./src/app/services/tournament.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var CreateTournamentComponent = /** @class */ (function () {
    function CreateTournamentComponent(_route, _router, _userService, _tournamentService) {
        this._route = _route;
        this._router = _router;
        this._userService = _userService;
        this._tournamentService = _tournamentService;
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
        this.title = 'Crear torneo';
        this.tournament = new __WEBPACK_IMPORTED_MODULE_2__models_tournament__["a" /* Tournament */]("", "", "", this.identity._id, "", 0, "", "", false, 0, 0, 0, false, 0, "", "", 0);
        this.typesTournament = [
            {
                value: 'swiss',
                desc: 'Rondas Suizo'
            },
            {
                value: 'ko',
                desc: 'Torneo KO'
            }
        ];
    }
    CreateTournamentComponent.prototype.ngOnInit = function () {
    };
    CreateTournamentComponent.prototype.onSubmit = function (form) {
        var _this = this;
        this._tournamentService.createTournament(this.token, this.tournament).subscribe(function (response) {
            if (response.tournament && response.tournament._id) {
                _this.status = 'success';
                form.reset();
            }
            else {
                _this.status = 'error';
            }
        }, function (error) {
            console.log(error);
        });
    };
    CreateTournamentComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'createTournament',
            template: __webpack_require__("./src/app/components/createTournament/createTournament.component.html"),
            providers: [__WEBPACK_IMPORTED_MODULE_3__services_tournament_service__["a" /* TournamentService */], __WEBPACK_IMPORTED_MODULE_4__services_user_service__["a" /* UserService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_3__services_tournament_service__["a" /* TournamentService */]])
    ], CreateTournamentComponent);
    return CreateTournamentComponent;
}());



/***/ }),

/***/ "./src/app/components/followers/followers.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-8\">\r\n\t<h1 class=\"h1-strong\" *ngIf=\"user\">{{title}} {{user.nick}}</h1>\r\n\r\n\t<div class=\"people\" *ngIf=\"followers\">\r\n\t\t\r\n\t\t<div *ngFor=\"let follow of followers\" class=\"item-user\">\r\n\t\t\t<div class=\"panel panel-default\">\r\n\t\t\t\t<div class=\"panel-body\">\r\n\t\t\t\t\t<div class=\"image-user pull-left\">\r\n\t\t\t\t\t\t<a href=\"#\"><img src=\"{{ url + 'get-image-user/' + follow.user.image }}\" *ngIf=\"follow.user.image\" /></a>\r\n\t\t\t\t\t\t<a href=\"#\"><img src=\"assets/default_user.png\" class=\"avatar-default\" *ngIf=\"!follow.user.image\" /></a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"user-name pull-left\">\r\n\t\t\t\t\t\t<p class=\"name-surname\"><a [routerLink]=\"['/perfil', follow.user._id]\">{{follow.user.name}} + {{follow.user.surname}}</a></p>\r\n\t\t\t\t\t\t<p class=\"nickname\">{{follow.user.nick}}</p>\r\n\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t<div class=\"pull-right\" *ngIf=\"follow.user._id != identity._id\">\r\n\t\t\t\t\t\t<button class=\"btn btn-success\" *ngIf=\"follows.indexOf(follow.user._id) < 0\" (click)=\"followUser(follow.user._id)\">\r\n\t\t\t\t\t\t\t<span class=\"glyphicon glyphicon-plus-sign\"></span> Seguir\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t<button class=\"btn btn-primary\" *ngIf=\"follows.indexOf(follow.user._id) >= 0\" (mouseenter)=\"mouseEnter(follow.user._id)\" (mouseleave)=\"mouseLeave(follow.user._id)\" [class.btn-danger]=\"follow.user._id == followUserOver\" (click)=\"unfollowUser(follow.user._id)\">\r\n\t\t\t\t\t\t\t<span *ngIf=\"follow.user._id == followUserOver; else following\">\r\n\t\t\t\t\t\t\t\t<span class=\"glyphicon glyphicon-minus-sign\"></span> Dejar de seguir\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<ng-template #following>\r\n\t\t\t\t\t\t\t\t<span class=\"glyphicon glyphicon-ok-sign\"></span> Siguiendo\r\n\t\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t\r\n\t<ul class=\"pagination pull-right\">\r\n\t\t<li *ngIf=\"page > 1\"><a [routerLink]=\"['/seguidores', userPageId, prev_page]\"> Anterior </a></li>\r\n\t\t<li *ngIf=\"pages != page\"><a [routerLink]=\"['/seguidores', userPageId, next_page]\"> Siguiente </a></li>\r\n\t</ul>\r\n\r\n</div>\r\n\r\n<sidebar></sidebar>\r\n\r\n<div class=\"clearfix\"></div>"

/***/ }),

/***/ "./src/app/components/followers/followers.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FollowersComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_follow__ = __webpack_require__("./src/app/models/follow.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_follow_service__ = __webpack_require__("./src/app/services/follow.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var FollowersComponent = /** @class */ (function () {
    function FollowersComponent(_route, _router, _userService, _followService) {
        this._route = _route;
        this._router = _router;
        this._userService = _userService;
        this._followService = _followService;
        this.title = 'Seguidores de ';
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
        this.url = __WEBPACK_IMPORTED_MODULE_5__services_global__["a" /* GLOBAL */].url;
    }
    FollowersComponent.prototype.ngOnInit = function () {
        this.actualPage();
    };
    FollowersComponent.prototype.actualPage = function () {
        var _this = this;
        this._route.params.subscribe(function (params) {
            var user_id = params['id'];
            _this.userPageId = user_id;
            //paginación
            var page;
            if (!params['page']) {
                page = 1;
            }
            else {
                page = +params['page'];
            }
            _this.page = page;
            if (!page) {
                page = 1;
            }
            else {
                _this.next_page = page + 1;
                _this.prev_page = page - 1;
                if (_this.prev_page <= 0) {
                    _this.prev_page = 1;
                }
            }
            _this.getUser(user_id, page);
        });
    };
    FollowersComponent.prototype.getFollows = function (user_id, page) {
        var _this = this;
        this._followService.getFollowers(this.token, user_id, page).subscribe(function (response) {
            if (!response.follows) {
                _this.status = 'error';
            }
            else {
                console.log(response);
                _this.total = response.total;
                _this.followers = response.follows;
                _this.pages = response.pages;
                _this.follows = response.users_following;
                if (page > _this.pages) {
                    _this._router.navigate(['/seguidores']);
                }
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    FollowersComponent.prototype.mouseEnter = function (user_id) {
        this.followUserOver = user_id;
    };
    FollowersComponent.prototype.mouseLeave = function (user_id) {
        this.followUserOver = 0;
    };
    FollowersComponent.prototype.followUser = function (followed) {
        var _this = this;
        var follow = new __WEBPACK_IMPORTED_MODULE_2__models_follow__["a" /* Follow */]('', this.identity._id, followed);
        this._followService.addFollow(this.token, follow).subscribe(function (response) {
            if (!response.follow) {
                _this.status = 'error';
            }
            else {
                _this.status = 'success';
                _this.follows.push(followed);
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    FollowersComponent.prototype.unfollowUser = function (id_followed) {
        var _this = this;
        this._followService.deleteFollow(this.token, id_followed).subscribe(function (response) {
            var search = _this.follows.indexOf(id_followed);
            if (search != -1) {
                _this.follows.splice(search, 1);
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    FollowersComponent.prototype.getUser = function (id, page) {
        var _this = this;
        this._userService.getUser(id).subscribe(function (response) {
            if (response.user) {
                _this.user = response.user;
                //devolver listado usuarios
                _this.getFollows(id, page);
            }
            else {
                _this._router.navigate['/home'];
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    FollowersComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'followers',
            template: __webpack_require__("./src/app/components/followers/followers.component.html"),
            providers: [__WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */], __WEBPACK_IMPORTED_MODULE_4__services_follow_service__["a" /* FollowService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_4__services_follow_service__["a" /* FollowService */]])
    ], FollowersComponent);
    return FollowersComponent;
}());



/***/ }),

/***/ "./src/app/components/following/following.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-8\">\r\n\t<h1 class=\"h1-strong\" *ngIf=\"user\">{{title}} {{user.nick}}</h1>\r\n\r\n\t<div class=\"people\" *ngIf=\"following\">\r\n\t\t\r\n\t\t<div *ngFor=\"let follow of following\" class=\"item-user\">\r\n\t\t\t<div class=\"panel panel-default\">\r\n\t\t\t\t<div class=\"panel-body\">\r\n\t\t\t\t\t<div class=\"image-user pull-left\">\r\n\t\t\t\t\t\t<a href=\"#\"><img src=\"{{ url + 'get-image-user/' + follow.followed.image }}\" *ngIf=\"follow.followed.image\" /></a>\r\n\t\t\t\t\t\t<a href=\"#\"><img src=\"assets/default_user.png\" class=\"avatar-default\" *ngIf=\"!follow.followed.image\" /></a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"user-name pull-left\">\r\n\t\t\t\t\t\t<p class=\"name-surname\"><a [routerLink]=\"['/perfil', follow.followed._id]\">{{follow.followed.name}} + {{follow.followed.surname}}</a></p>\r\n\t\t\t\t\t\t<p class=\"nickname\">{{follow.followed.nick}}</p>\r\n\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t<div class=\"pull-right\" *ngIf=\"follow.followed._id != identity._id\">\r\n\t\t\t\t\t\t<button class=\"btn btn-success\" *ngIf=\"follows.indexOf(follow.followed._id) < 0\" (click)=\"followUser(follow.followed._id)\">\r\n\t\t\t\t\t\t\t<span class=\"glyphicon glyphicon-plus-sign\"></span> Seguir\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t<button class=\"btn btn-primary\" *ngIf=\"follows.indexOf(follow.followed._id) >= 0\" (mouseenter)=\"mouseEnter(follow.followed._id)\" (mouseleave)=\"mouseLeave(follow.followed._id)\" [class.btn-danger]=\"follow.followed._id == followUserOver\" (click)=\"unfollowUser(follow.followed._id)\">\r\n\t\t\t\t\t\t\t<span *ngIf=\"follow.followed._id == followUserOver; else following\">\r\n\t\t\t\t\t\t\t\t<span class=\"glyphicon glyphicon-minus-sign\"></span> Dejar de seguir\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<ng-template #following>\r\n\t\t\t\t\t\t\t\t<span class=\"glyphicon glyphicon-ok-sign\"></span> Siguiendo\r\n\t\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t\r\n\t<ul class=\"pagination pull-right\">\r\n\t\t<li *ngIf=\"page > 1\"><a [routerLink]=\"['/siguiendo', userPageId, prev_page]\"> Anterior </a></li>\r\n\t\t<li *ngIf=\"pages != page\"><a [routerLink]=\"['/siguiendo', userPageId, next_page]\"> Siguiente </a></li>\r\n\t</ul>\r\n\r\n</div>\r\n\r\n<sidebar></sidebar>\r\n\r\n<div class=\"clearfix\"></div>"

/***/ }),

/***/ "./src/app/components/following/following.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FollowingComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_follow__ = __webpack_require__("./src/app/models/follow.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_follow_service__ = __webpack_require__("./src/app/services/follow.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var FollowingComponent = /** @class */ (function () {
    function FollowingComponent(_route, _router, _userService, _followService) {
        this._route = _route;
        this._router = _router;
        this._userService = _userService;
        this._followService = _followService;
        this.title = 'Usuarios seguidos por ';
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
        this.url = __WEBPACK_IMPORTED_MODULE_5__services_global__["a" /* GLOBAL */].url;
    }
    FollowingComponent.prototype.ngOnInit = function () {
        this.actualPage();
    };
    FollowingComponent.prototype.actualPage = function () {
        var _this = this;
        this._route.params.subscribe(function (params) {
            var user_id = params['id'];
            _this.userPageId = user_id;
            //paginación
            var page;
            if (!params['page']) {
                page = 1;
            }
            else {
                page = +params['page'];
            }
            _this.page = page;
            if (!page) {
                page = 1;
            }
            else {
                _this.next_page = page + 1;
                _this.prev_page = page - 1;
                if (_this.prev_page <= 0) {
                    _this.prev_page = 1;
                }
            }
            _this.getUser(user_id, page);
        });
    };
    FollowingComponent.prototype.getFollows = function (user_id, page) {
        var _this = this;
        this._followService.getFollowing(this.token, user_id, page).subscribe(function (response) {
            if (!response.follows) {
                _this.status = 'error';
            }
            else {
                console.log(response);
                _this.total = response.total;
                _this.following = response.follows;
                _this.pages = response.pages;
                _this.follows = response.users_following;
                if (page > _this.pages) {
                    _this._router.navigate(['/siguiendo']);
                }
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    FollowingComponent.prototype.mouseEnter = function (user_id) {
        this.followUserOver = user_id;
    };
    FollowingComponent.prototype.mouseLeave = function (user_id) {
        this.followUserOver = 0;
    };
    FollowingComponent.prototype.followUser = function (followed) {
        var _this = this;
        var follow = new __WEBPACK_IMPORTED_MODULE_2__models_follow__["a" /* Follow */]('', this.identity._id, followed);
        this._followService.addFollow(this.token, follow).subscribe(function (response) {
            if (!response.follow) {
                _this.status = 'error';
            }
            else {
                _this.status = 'success';
                _this.follows.push(followed);
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    FollowingComponent.prototype.unfollowUser = function (id_followed) {
        var _this = this;
        this._followService.deleteFollow(this.token, id_followed).subscribe(function (response) {
            var search = _this.follows.indexOf(id_followed);
            if (search != -1) {
                _this.follows.splice(search, 1);
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    FollowingComponent.prototype.getUser = function (id, page) {
        var _this = this;
        this._userService.getUser(id).subscribe(function (response) {
            if (response.user) {
                _this.user = response.user;
                //devolver listado usuarios
                _this.getFollows(id, page);
            }
            else {
                _this._router.navigate['/home'];
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    FollowingComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'following',
            template: __webpack_require__("./src/app/components/following/following.component.html"),
            providers: [__WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */], __WEBPACK_IMPORTED_MODULE_4__services_follow_service__["a" /* FollowService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_4__services_follow_service__["a" /* FollowService */]])
    ], FollowingComponent);
    return FollowingComponent;
}());



/***/ }),

/***/ "./src/app/components/home/home.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center\">\r\n  <h1 class=\"display-4\">¡Hola!</h1>\r\n  <p class=\"lead\">Estamos de vuelta, se han cambiado muchas cosas por debajo, pero si lo único que te interesa es jugar. Ve echando un ojo al apartado de torneos.</p>\r\n</div>\r\n\r\n<div class=\"container\">\r\n  <div class=\"card-deck mb-3 text-center\">\r\n    <div class=\"card mb-6 box-shadow\">\r\n      <div class=\"card-header\">\r\n        <h4 class=\"my-0 font-weight-normal\">Torneos</h4>\r\n      </div>\r\n      <div class=\"card-body\">\r\n        <h1 class=\"card-title pricing-card-title\">Participa o créalo</h1>\r\n        <ul class=\"list-unstyled mt-3 mb-4\">\r\n          <li>Gratis</li>\r\n          <li>Formato Suizo o KO</li>\r\n          <li>Sistema de baneos</li>\r\n        </ul>\r\n        <button type=\"button\" class=\"btn btn-lg btn-block btn-primary\" [routerLink]=\"['/tournaments']\">Ver torneos</button>\r\n      </div>\r\n    </div>\r\n    <div class=\"card mb-6 box-shadow\">\r\n      <div class=\"card-header\">\r\n        <h4 class=\"my-0 font-weight-normal\">Contacto</h4>\r\n      </div>\r\n      <div class=\"card-body\">\r\n        <h1 class=\"card-title pricing-card-title\">Síguenos para estar al tanto</h1>\r\n        <ul class=\"list-unstyled mt-3 mb-4\">\r\n          <li><a href=\"https://twitter.com/roedornet\"><span class=\"fa fa-twitter\"></span> @roedornet</a></li>\r\n          <li><a href=\"emailto: info@roedor.net\">info@roedor.net</a></li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/home/home.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HomeComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_socket_io_client__ = __webpack_require__("./node_modules/socket.io-client/lib/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_socket_io_client___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_socket_io_client__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var HomeComponent = /** @class */ (function () {
    function HomeComponent() {
        this.title = 'Bienvenido a NGSocial';
        this.env = __WEBPACK_IMPORTED_MODULE_2__services_global__["a" /* GLOBAL */].env;
    }
    HomeComponent.prototype.ngOnInit = function () {
        console.log('home.component cargado OK');
        if (this.env == 'DE') {
            var socket = __WEBPACK_IMPORTED_MODULE_1_socket_io_client__('http://localhost:3800');
        }
        else {
            var socket = __WEBPACK_IMPORTED_MODULE_1_socket_io_client__('https://roedor.net');
        }
    };
    HomeComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'home',
            template: __webpack_require__("./src/app/components/home/home.component.html")
        }),
        __metadata("design:paramtypes", [])
    ], HomeComponent);
    return HomeComponent;
}());



/***/ }),

/***/ "./src/app/components/login/login.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-5\">\r\n\t<h1 class=\"h1-strong\">{{title}}</h1>\r\n\r\n\t<div class=\"alert alert-success\" *ngIf=\"status == 'success'\">\r\n\t\tTe has identificado correctamente, bienvenido!\r\n\t</div>\r\n\r\n\t<div class=\"alert alert-danger\" *ngIf=\"status == 'error'\">\r\n\t\tNo te has podido identificar correctamente. Prueba de nuevo.\r\n\t</div>\r\n\r\n\t<form #loginForm=\"ngForm\" (ngSubmit)=\"onSubmit()\" class=\"col-lg-12\">\r\n\t\t<p>\r\n\t\t\t<label>Correo electrónico</label>\r\n\t\t\t<input type=\"email\" name=\"email\" #email=\"ngModel\" [(ngModel)]=\"user.email\" class=\"form-control\" required pattern=\"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{1,63}$\"/>\r\n\t\t\t<span *ngIf=\"!email.valid && email.touched\">\r\n\t\t\t\tEl email no es correcto\r\n\t\t\t</span>\r\n\t\t</p>\r\n\r\n\t\t<p>\r\n\t\t\t<label>Contraseña</label>\r\n\t\t\t<input type=\"password\" name=\"password\" #password=\"ngModel\" [(ngModel)]=\"user.password\" class=\"form-control\" required />\r\n\t\t\t<span *ngIf=\"!password.valid && password.touched\">\r\n\t\t\t\tLa contraseña es obligatoria\r\n\t\t\t</span>\r\n\t\t</p>\r\n\r\n\t\t<input type=\"submit\" value=\"Enviar\" class=\"btn btn-success\" [disabled]=\"!loginForm.valid\" />\r\n\t</form>\r\n</div>"

/***/ }),

/***/ "./src/app/components/login/login.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoginComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_user__ = __webpack_require__("./src/app/models/user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var LoginComponent = /** @class */ (function () {
    function LoginComponent(_route, _router, _userService) {
        this._route = _route;
        this._router = _router;
        this._userService = _userService;
        this.title = 'Identifícate';
        this.user = new __WEBPACK_IMPORTED_MODULE_2__models_user__["a" /* User */]("", "", "", "", "", "", "ROLE_USER", "");
    }
    LoginComponent.prototype.ngOnInit = function () {
        console.log('Componente de login cargado...');
    };
    LoginComponent.prototype.onSubmit = function () {
        var _this = this;
        //loguear al usuario y conseguir los datos
        this._userService.signUp(this.user).subscribe(function (response) {
            _this.identity = response.user;
            if (!_this.identity || !_this.identity._id) {
                _this.status = 'error';
            }
            else {
                //persistir datos del usuario en local storage
                localStorage.setItem('identity', JSON.stringify(_this.identity));
                //conseguir token usuario
                _this.getToken();
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    LoginComponent.prototype.getToken = function () {
        var _this = this;
        this._userService.signUp(this.user, 'true').subscribe(function (response) {
            _this.token = response.token;
            if (_this.token.length <= 0) {
                _this.status = 'error';
            }
            else {
                //persistir datos del usuario
                localStorage.setItem('token', JSON.stringify(_this.token));
                //conseguir contadores/stats del usuario
                _this.getCounters();
                //this._router.navigate(['/']);
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    LoginComponent.prototype.getCounters = function () {
        var _this = this;
        this._userService.getCounters().subscribe(function (response) {
            localStorage.setItem('stats', JSON.stringify(response));
            _this.status = 'success';
            _this._router.navigate(['/']);
            //if(response.following.length <= 0)
        }, function (error) {
            console.log(error);
        });
    };
    LoginComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'login',
            template: __webpack_require__("./src/app/components/login/login.component.html"),
            providers: [__WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */]])
    ], LoginComponent);
    return LoginComponent;
}());



/***/ }),

/***/ "./src/app/components/matches/matches.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container-fluid\">\r\n\t<div class=\"panel panel-default\">\r\n\t\t<div class=\"panel-body\">\r\n\t\t\t<table class=\"table\">\r\n\t\t\t  <thead>\r\n\t\t\t    <tr>\r\n\t\t\t      <th style=\"width: 20%\" scope=\"col\">Partido</th>\r\n            <th style=\"width: 20%\" scope=\"col\">Torneo</th>\r\n\t\t\t      <th style=\"width: 20%\" scope=\"col\">Fecha</th>\r\n\t\t\t    </tr>\r\n\t\t\t  </thead>\r\n\t\t\t  <tbody>\r\n\t\t\t    <tr *ngFor=\"let match of matches\" class=\"item-publication\">\r\n\t\t\t      <th scope=\"row\"><a [routerLink]=\"['/tournament/', match.tournament._id, 'match', match._id]\">{{match.home.nick}} vs {{match.away.nick}}</a></th>\r\n            <td>{{match.tournament.name}}</td>\r\n\t\t\t      <td>{{ (match.match_date | amFromUnix | amLocale:'es')}}</td>\r\n\t\t\t    </tr>\r\n\t\t\t  </tbody>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<div class=\"col-lg-12 text-center\" *ngIf=\"matches && matches.length\">\r\n\t<p>\r\n\t\t<button class=\"btn btn-success\" (click)=\"viewMore()\" *ngIf=\"!noMore\">\r\n\t\t\tVer más\r\n\t\t</button>\r\n\t</p>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/matches/matches.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MatchesComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_match_service__ = __webpack_require__("./src/app/services/match.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var MatchesComponent = /** @class */ (function () {
    function MatchesComponent(_route, _router, _userService, _matchService) {
        this._route = _route;
        this._router = _router;
        this._userService = _userService;
        this._matchService = _matchService;
        this.title = 'Mis partidos';
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
        this.url = __WEBPACK_IMPORTED_MODULE_4__services_global__["a" /* GLOBAL */].url;
    }
    MatchesComponent.prototype.ngOnInit = function () {
        this.actualPage();
    };
    MatchesComponent.prototype.actualPage = function () {
        var _this = this;
        this._route.params.subscribe(function (params) {
            //paginación
            var page;
            if (!params['page']) {
                page = 1;
            }
            else {
                page = +params['page'];
            }
            _this.page = page;
            if (!page) {
                page = 1;
            }
            else {
                _this.next_page = page + 1;
                _this.prev_page = page - 1;
                if (_this.prev_page <= 0) {
                    _this.prev_page = 1;
                }
            }
            //devolver listado de partidos del jugador
            _this.getMatches(page);
        });
    };
    MatchesComponent.prototype.getMatches = function (page) {
        var _this = this;
        this._matchService.getMatches(this.token, page).subscribe(function (response) {
            if (!response.matches) {
                _this.status = 'error';
            }
            else {
                _this.total = response.total;
                _this.matches = response.matches;
                _this.pages = response.pages;
                if (page > _this.pages) {
                    _this._router.navigate(['/mis-partidos']);
                }
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    MatchesComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'matches',
            template: __webpack_require__("./src/app/components/matches/matches.component.html"),
            providers: [__WEBPACK_IMPORTED_MODULE_2__services_user_service__["a" /* UserService */], __WEBPACK_IMPORTED_MODULE_3__services_match_service__["a" /* MatchService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_3__services_match_service__["a" /* MatchService */]])
    ], MatchesComponent);
    return MatchesComponent;
}());



/***/ }),

/***/ "./src/app/components/profile/profile.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-8\">\r\n\t<h1 class=\"h1-strong\">\r\n\t\t{{title}}\r\n\t</h1>\r\n\r\n\t<div id=\"data-profile\" *ngIf=\"user\">\r\n\t\t<div class=\"avatar pull-left\">\r\n\t\t\t<a href=\"#\"><img src=\"{{ url + 'get-image-user/' + user.image }}\" class=\"avatar-default\" *ngIf=\"user.image\" /></a>\r\n\t\t\t<a href=\"#\"><img src=\"assets/default_user.png\" class=\"avatar-default\" *ngIf=\"!user.image\" /></a>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"user-name pull-left\">\r\n\t\t\t<div class=\"label label-default\" *ngIf=\"followed\">\r\n\t\t\t\tTe sigue\r\n\t\t\t</div>\r\n\t\t\t<div class=\"clearfix\"></div>\r\n\t\t\t<div class=\"pull-left\">\r\n\t\t\t\t<p class=\"name\">{{user.name + ' ' + user.surname}}</p>\r\n\t\t\t\t<p class=\"nick\">{{user.nick}}</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"follow\">\r\n\t\t\t\t\r\n\t\t\t\t<button class=\"btn btn-success\" *ngIf=\"!following\" (click)=\"followUser(user._id)\">\r\n\t\t\t\t\tSeguir\r\n\t\t\t\t</button>\r\n\t\t\t\t<button class=\"btn btn-primary\" *ngIf=\"following\" (click)=\"unfollowUser(user._id)\" (mouseenter)=\"mouseEnter(user._id)\" (mouseleave)=\"mouseLeave()\"\r\n\t\t\t\t\t\t[class.btn-danger]=\"user._id == followUserOver\">\r\n\t\t\t\t\t<span *ngIf=\"user._id == followUserOver; else following\">\r\n\t\t\t\t\t\tDejar de seguir\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<ng-template #following>\r\n\t\t\t\t\t\tSiguiendo\r\n\t\t\t\t\t</ng-template>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"stats pull-left\" *ngIf=\"stats\">\r\n\t\t\t<div class=\"following-data\">\r\n\t\t\t\t<a [routerLink]=\"['/siguiendo', user._id, 1]\">\r\n\t\t\t\t\t<span class=\"label-stats\">\r\n\t\t\t\t\t\tSiguiendo\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span class=\"number-stats\">\r\n\t\t\t\t\t\t{{stats.following}}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"following-data\">\r\n\t\t\t\t<a [routerLink]=\"['/seguidores', user._id, 1]\">\r\n\t\t\t\t\t<span class=\"label-stats\">\r\n\t\t\t\t\t\tSeguidores\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span class=\"number-stats\">\r\n\t\t\t\t\t\t{{stats.followers}}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"following-data\">\r\n\t\t\t\t<a href=\"#\">\r\n\t\t\t\t\t<span class=\"label-stats\">\r\n\t\t\t\t\t\tPublicaciones\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span class=\"number-stats\">\r\n\t\t\t\t\t\t{{stats.publications}}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"col-lg-12 publications\" *ngIf=\"user\">\r\n\t\t\t<publications [user]=\"user._id\"></publications>\r\n\t\t</div>\r\n\r\n\t</div>\r\n\r\n</div>\r\n\r\n<sidebar></sidebar>"

/***/ }),

/***/ "./src/app/components/profile/profile.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProfileComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_follow__ = __webpack_require__("./src/app/models/follow.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_follow_service__ = __webpack_require__("./src/app/services/follow.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ProfileComponent = /** @class */ (function () {
    function ProfileComponent(_route, _router, _userService, _followService) {
        this._route = _route;
        this._router = _router;
        this._userService = _userService;
        this._followService = _followService;
        this.title = 'Perfil';
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
        this.url = __WEBPACK_IMPORTED_MODULE_5__services_global__["a" /* GLOBAL */].url;
        this.followed = false;
        this.following = false;
    }
    ProfileComponent.prototype.ngOnInit = function () {
        console.log('profile.component cargado!');
        this.loadPage();
    };
    ProfileComponent.prototype.loadPage = function () {
        var _this = this;
        this._route.params.subscribe(function (params) {
            var id = params['id'];
            _this.getUser(id);
            _this.getCounters(id);
        });
    };
    ProfileComponent.prototype.getUser = function (id) {
        var _this = this;
        this._userService.getUser(id).subscribe(function (response) {
            if (response.user) {
                console.log(response);
                _this.user = response.user;
                if (response.following && response.following._id) {
                    _this.following = true;
                }
                if (response.followed && response.followed._id) {
                    _this.followed = true;
                }
            }
            else {
                _this.status = 'error';
            }
        }, function (error) {
            console.log(error);
            _this._router.navigate(['/perfil', _this.identity._id]);
        });
    };
    ProfileComponent.prototype.getCounters = function (id) {
        var _this = this;
        this._userService.getCounters(id).subscribe(function (response) {
            _this.stats = response;
        }, function (error) {
            console.log(error);
        });
    };
    ProfileComponent.prototype.followUser = function (id) {
        var _this = this;
        var follow = new __WEBPACK_IMPORTED_MODULE_2__models_follow__["a" /* Follow */]('', this.identity._id, id);
        this._followService.addFollow(this.token, follow).subscribe(function (response) {
            _this.following = true;
        }, function (error) {
            console.log(error);
        });
    };
    ProfileComponent.prototype.unfollowUser = function (id) {
        var _this = this;
        this._followService.deleteFollow(this.token, id).subscribe(function (response) {
            _this.following = false;
        }, function (error) {
            console.log(error);
        });
    };
    ProfileComponent.prototype.mouseEnter = function (user_id) {
        this.followUserOver = user_id;
    };
    ProfileComponent.prototype.mouseLeave = function () {
        this.followUserOver = 0;
    };
    ProfileComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'profile',
            template: __webpack_require__("./src/app/components/profile/profile.component.html"),
            providers: [__WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */], __WEBPACK_IMPORTED_MODULE_4__services_follow_service__["a" /* FollowService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_4__services_follow_service__["a" /* FollowService */]])
    ], ProfileComponent);
    return ProfileComponent;
}());



/***/ }),

/***/ "./src/app/components/publications/publications.component.html":
/***/ (function(module, exports) {

module.exports = "<div id=\"publications\">\r\n\t<div *ngFor=\"let publication of publications\" class=\"item-publication\">\r\n\t\t<div class=\"panel panel-default\">\r\n\t\t\t<div class=\"panel-body\">\r\n\t\t\t\t<div class=\"image-user pull-left\">\r\n\t\t\t\t\t<a href=\"#\"><img src=\"{{ url + 'get-image-user/' + publication.user.image }}\" class=\"avatar-default\" *ngIf=\"publication.user.image\" /></a>\r\n\t\t\t\t\t<a href=\"#\"><img src=\"assets/default_user.png\" class=\"avatar-default\" *ngIf=\"!publication.user.image\" /></a>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span class=\"user-name\">{{publication.user.name + ' ' + publication.user.surname}}</span>\r\n\t\t\t\t\t&nbsp;|&nbsp;\r\n\t\t\t\t\t<span class=\"date\">{{ (publication.created_at | amFromUnix) | amLocale:'es' | amTimeAgo }}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h4 class=\"publication-text pull-left\">\r\n\t\t\t\t\t{{publication.text}}\r\n\t\t\t\t</h4>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<div class=\"col-lg-12 text-center\" *ngIf=\"publications && publications.length\">\r\n\t<p>\r\n\t\t<button class=\"btn btn-success\" (click)=\"viewMore()\" *ngIf=\"!noMore\">\r\n\t\t\tVer más\r\n\t\t</button>\r\n\t</p>\r\n</div>"

/***/ }),

/***/ "./src/app/components/publications/publications.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PublicationsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_global__ = __webpack_require__("./src/app/services/global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_publication_service__ = __webpack_require__("./src/app/services/publication.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var PublicationsComponent = /** @class */ (function () {
    function PublicationsComponent(_route, _router, _userService, _publicationService) {
        this._route = _route;
        this._router = _router;
        this._userService = _userService;
        this._publicationService = _publicationService;
        this.noMore = false;
        this.title = 'Publicaciones';
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
        this.url = __WEBPACK_IMPORTED_MODULE_2__services_global__["a" /* GLOBAL */].url;
        this.page = 1;
    }
    PublicationsComponent.prototype.ngOnInit = function () {
        console.log('publications.component cargado');
        this.getPublications(this.user, this.page);
    };
    PublicationsComponent.prototype.getPublications = function (user, page, adding) {
        var _this = this;
        if (adding === void 0) { adding = false; }
        this._publicationService.getPublicationsUser(this.token, user, page).subscribe(function (response) {
            console.log(response);
            if (response.publications) {
                _this.total = response.total_items;
                _this.pages = response.pages;
                _this.itemsPerPage = response.itemsPerPage;
                if (!adding) {
                    _this.publications = response.publications;
                }
                else {
                    var arrayA = _this.publications;
                    var arrayB = response.publications;
                    _this.publications = arrayA.concat(arrayB);
                    //scroll automático con jquery
                    $('html, body').animate({ scrollTop: $('html').prop('scrollHeight') }, 500);
                }
            }
            else {
                _this.status = 'error';
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    PublicationsComponent.prototype.viewMore = function () {
        this.page += 1;
        if (this.page == this.pages) {
            this.noMore = true;
        }
        this.getPublications(this.user, this.page, true);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], PublicationsComponent.prototype, "user", void 0);
    PublicationsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'publications',
            template: __webpack_require__("./src/app/components/publications/publications.component.html"),
            providers: [__WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */], __WEBPACK_IMPORTED_MODULE_4__services_publication_service__["a" /* PublicationService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_4__services_publication_service__["a" /* PublicationService */]])
    ], PublicationsComponent);
    return PublicationsComponent;
}());



/***/ }),

/***/ "./src/app/components/register/register.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-5\">\r\n\t<h1 class=\"h1-strong\">{{title}}</h1>\r\n\r\n\t<div class=\"alert alert-success\" *ngIf=\"status == 'success'\">\r\n\t\tRegistro completado correctamente, <a [routerLink]=\"['/login']\"> identifícate aquí</a>\r\n\t</div>\r\n\r\n\t<div class=\"alert alert-danger\" *ngIf=\"status == 'error'\">\r\n\t\tEl registro no ha podido completarse, por favor, revisa los datos y prueba de nuevo.\r\n\t</div>\r\n\r\n\t<form #registerForm=\"ngForm\" (ngSubmit)=\"onSubmit(registerForm)\" class=\"col-lg-12\">\r\n\t\t<p>\r\n\t\t\t<label>Nombre</label>\r\n\t\t\t<input type=\"text\" name=\"name\" #name=\"ngModel\" [(ngModel)]=\"user.name\" class=\"form-control\" required />\r\n\t\t\t<span *ngIf=\"!name.valid && name.touched\">\r\n\t\t\t\tEl nombre es obligatorio\r\n\t\t\t</span>\r\n\t\t</p>\r\n\r\n\t\t<p>\r\n\t\t\t<label>Apellidos</label>\r\n\t\t\t<input type=\"text\" name=\"surname\" #surname=\"ngModel\" [(ngModel)]=\"user.surname\" class=\"form-control\" required />\r\n\t\t\t<span *ngIf=\"!surname.valid && surname.touched\">\r\n\t\t\t\tLos apellidos son obligatorios\r\n\t\t\t</span>\r\n\t\t</p>\r\n\r\n\t\t<p>\r\n\t\t\t<label>Nick</label>\r\n\t\t\t<input type=\"text\" name=\"nick\" #nick=\"ngModel\" [(ngModel)]=\"user.nick\" class=\"form-control\" required />\r\n\t\t\t<span *ngIf=\"!nick.valid && nick.touched\">\r\n\t\t\t\tEl nick es obligatorio\r\n\t\t\t</span>\r\n\t\t</p>\r\n\r\n\t\t<p>\r\n\t\t\t<label>Email</label>\r\n\t\t\t<input type=\"email\" name=\"email\" #email=\"ngModel\" [(ngModel)]=\"user.email\" class=\"form-control\" required pattern=\"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{1,63}$\"/>\r\n\t\t\t<span *ngIf=\"!email.valid && email.touched\">\r\n\t\t\t\tEl email es obligatorio\r\n\t\t\t</span>\r\n\t\t</p>\r\n\r\n\t\t<p>\r\n\t\t\t<label>Contraseña</label>\r\n\t\t\t<input type=\"password\" name=\"password\" #password=\"ngModel\" [(ngModel)]=\"user.password\" class=\"form-control\" required />\r\n\t\t\t<span *ngIf=\"!password.valid && password.touched\">\r\n\t\t\t\tLa contraseña es obligatoria\r\n\t\t\t</span>\r\n\t\t</p>\r\n\r\n\t\t<input type=\"submit\" value=\"{{title}}\" class=\"btn btn-success\" [disabled]=\"!registerForm.form.valid\" />\r\n\t</form>\r\n</div>"

/***/ }),

/***/ "./src/app/components/register/register.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RegisterComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_user__ = __webpack_require__("./src/app/models/user.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var RegisterComponent = /** @class */ (function () {
    function RegisterComponent(_route, _router, _userService) {
        this._route = _route;
        this._router = _router;
        this._userService = _userService;
        this.title = 'Regístrate';
        this.user = new __WEBPACK_IMPORTED_MODULE_2__models_user__["a" /* User */]("", "", "", "", "", "", "ROLE_USER", "");
    }
    RegisterComponent.prototype.ngOnInit = function () {
        console.log('Componente de registro cargado...');
    };
    RegisterComponent.prototype.onSubmit = function (form) {
        var _this = this;
        this._userService.register(this.user).subscribe(function (response) {
            if (response.user && response.user._id) {
                //console.log(response.user);
                _this.status = 'success';
                form.reset();
            }
            else {
                _this.status = 'error';
            }
        }, function (error) {
            console.log(error);
        });
    };
    RegisterComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'register',
            template: __webpack_require__("./src/app/components/register/register.component.html"),
            providers: [__WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */]])
    ], RegisterComponent);
    return RegisterComponent;
}());



/***/ }),

/***/ "./src/app/components/sidebar/sidebar.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-4 sidebar-32\">\r\n\t\t<h1 class=\"h1-strong\">Hola, {{identity.name}}</h1>\r\n</div>\r\n\r\n<div id=\"user-card\" class=\"col-lg-4 panel panel-default pull-left\">\r\n\t<div class=\"avatar pull-left\">\r\n\t\t<a href=\"#\"><img src=\"{{ url + 'get-image-user/' + identity.image }}\" *ngIf=\"identity.image\" /></a>\r\n\t\t<a href=\"#\"><img src=\"assets/default_user.png\" class=\"avatar-default\" *ngIf=\"!identity.image\" /></a>\r\n\t</div>\r\n\r\n\t<div class=\"name-surname pull-left\">\r\n\t\t<a [routerLink]=\"['/perfil', identity._id]\" class=\"user-name\">\r\n\t\t\t{{ identity.name + ' ' + identity.surname }}\r\n\t\t</a>\r\n\t\t<p class=\"nickname\">{{identity.nick}}</p>\r\n\t\t<div class=\"cleearfix\"></div>\r\n\t</div>\r\n\r\n\t<div class=\"clearfix\"></div>\r\n\r\n\t<div class=\"stats\" *ngIf=\"stats\">\r\n\t\t<div class=\"following-data\">\r\n\t\t\t<a [routerLink]=\"['/siguiendo', identity._id, 1]\">\r\n\t\t\t\t<span class=\"label-stats\">\r\n\t\t\t\t\tSiguiendo\r\n\t\t\t\t</span>\r\n\t\t\t\t<span class=\"number-stats\">\r\n\t\t\t\t\t{{stats.following}}\r\n\t\t\t\t</span>\r\n\t\t\t</a>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"following-data\">\r\n\t\t\t<a [routerLink]=\"['/seguidores', identity._id, 1]\">\r\n\t\t\t\t<span class=\"label-stats\">\r\n\t\t\t\t\tSeguidores\r\n\t\t\t\t</span>\r\n\t\t\t\t<span class=\"number-stats\">\r\n\t\t\t\t\t{{stats.followers}}\r\n\t\t\t\t</span>\r\n\t\t\t</a>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"following-data\">\r\n\t\t\t<a [routerLink]=\"['/perfil', identity._id]\" class=\"user-name\">\r\n\t\t\t\t<span class=\"label-stats\">\r\n\t\t\t\t\tPublicaciones\r\n\t\t\t\t</span>\r\n\t\t\t\t<span class=\"number-stats\">\r\n\t\t\t\t\t{{stats.publications}}\r\n\t\t\t\t</span>\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<!-- form de publicaciones -->\r\n<div id=\"new-publication\" class=\"col-lg-4 panel panel-default pull-left\">\r\n\t<div class=\"alert alert-success\" *ngIf=\"status == 'success'\">Publicación enviada correctamente</div>\r\n\t<div class=\"alert alert-danger\" *ngIf=\"status == 'error'\">Ha ocurrido un error al enviar la publicación</div>\r\n\t<form #newPubForm=\"ngForm\" (ngSubmit)=\"onSubmit(newPubForm, $event);\" class=\"col-lg-10\">\r\n\t\t<p>\r\n\t\t\t<label>¿Qué estás pensando?</label>\r\n\t\t\t<textarea name=\"text\" #text=\"ngModel\" [(ngModel)]=\"publication.text\" class=\"form-control\" required ></textarea>\r\n\t\t\t<span *ngIf=\"!text.valid && text.touched\">\r\n\t\t\t\tEl texto de la publicación es obligatorio\r\n\t\t\t</span>\r\n\t\t</p>\r\n\t\t<p>\r\n\t\t\t<label>Sube tu foto</label>\r\n\t\t\t<input type=\"file\" placeholder=\"Subir imagen\" (change)=\"fileChangeEvent($event)\"/>\r\n\t\t</p>\r\n\r\n\t\t<input type=\"submit\" value=\"Enviar\" class=\"btn btn-success\" [disabled]=\"!newPubForm.form.valid\" />\r\n\t\t\r\n\t</form>\r\n</div>"

/***/ }),

/***/ "./src/app/components/sidebar/sidebar.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SidebarComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_global__ = __webpack_require__("./src/app/services/global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__models_publication__ = __webpack_require__("./src/app/models/publication.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_publication_service__ = __webpack_require__("./src/app/services/publication.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_upload_service__ = __webpack_require__("./src/app/services/upload.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var SidebarComponent = /** @class */ (function () {
    function SidebarComponent(_route, _router, _userService, _publicationService, _uploadService) {
        this._route = _route;
        this._router = _router;
        this._userService = _userService;
        this._publicationService = _publicationService;
        this._uploadService = _uploadService;
        // Output
        this.sent = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
        this.stats = this._userService.getStats();
        this.url = __WEBPACK_IMPORTED_MODULE_3__services_global__["a" /* GLOBAL */].url;
        this.publication = new __WEBPACK_IMPORTED_MODULE_4__models_publication__["a" /* Publication */]('', '', '', '', this.identity._id);
    }
    SidebarComponent.prototype.ngOnInit = function () {
        console.log('componente SidebarComponent cargado!!');
    };
    SidebarComponent.prototype.onSubmit = function (form, $event) {
        var _this = this;
        this._publicationService.addPublication(this.token, this.publication).subscribe(function (response) {
            if (response.publication) {
                //this.publication = response.publication;
                if (_this.filesToUpload && _this.filesToUpload.length) {
                    //subir imagen
                    _this._uploadService.makeFileRequest(_this.url + 'upload-image-pub/' + response.publication._id, [], _this.filesToUpload, _this.token, 'image').then(function (result) {
                        _this.publication.file = result.image;
                        _this.status = 'success';
                        form.reset();
                        _this._router.navigate(['/timeline']);
                        _this.sent.emit({ send: 'true' });
                    });
                }
                else {
                    _this.status = 'success';
                    form.reset();
                    _this._router.navigate(['/timeline']);
                    _this.sent.emit({ send: 'true' });
                }
            }
            else {
                _this.status = 'error';
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    SidebarComponent.prototype.fileChangeEvent = function (fileInput) {
        this.filesToUpload = fileInput.target.files;
    };
    SidebarComponent.prototype.sendPublication = function (event) {
        this.sent.emit({ send: 'true' });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
        __metadata("design:type", Object)
    ], SidebarComponent.prototype, "sent", void 0);
    SidebarComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'sidebar',
            template: __webpack_require__("./src/app/components/sidebar/sidebar.component.html"),
            providers: [__WEBPACK_IMPORTED_MODULE_2__services_user_service__["a" /* UserService */], __WEBPACK_IMPORTED_MODULE_5__services_publication_service__["a" /* PublicationService */], __WEBPACK_IMPORTED_MODULE_6__services_upload_service__["a" /* UploadService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_5__services_publication_service__["a" /* PublicationService */],
            __WEBPACK_IMPORTED_MODULE_6__services_upload_service__["a" /* UploadService */]])
    ], SidebarComponent);
    return SidebarComponent;
}());



/***/ }),

/***/ "./src/app/components/timeline/timeline.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-8\">\r\n\t<h1 class=\"h1-strong\">\r\n\t\t{{title}}\r\n\t\t<button class=\"btn btn-success btn-sm\" (click)=\"refresh($event)\">Mostrar nuevas</button>\r\n\t</h1>\r\n\r\n\t<div id=\"publications\">\r\n\t\t<div *ngFor=\"let publication of publications\" class=\"item-publication\">\r\n\t\t\t<div class=\"panel panel-default\">\r\n\t\t\t\t<div class=\"panel-body\">\r\n\t\t\t\t\t<div class=\"image-user pull-left\">\r\n\t\t\t\t\t\t<a href=\"#\"><img src=\"{{ url + 'get-image-user/' + publication.user.image }}\" class=\"avatar-default\" *ngIf=\"publication.user.image\" /></a>\r\n\t\t\t\t\t\t<a href=\"#\"><img src=\"assets/default_user.png\" class=\"avatar-default\" *ngIf=\"!publication.user.image\" /></a>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<a [routerLink]=\"['/perfil', publication.user._id]\" class=\"user-name\">{{publication.user.name + ' ' + publication.user.surname}}</a>\r\n\t\t\t\t\t\t&nbsp;|&nbsp;\r\n\t\t\t\t\t\t<span class=\"date\">{{ (publication.created_at | amFromUnix) | amLocale:'es' | amTimeAgo }}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<h4 class=\"publication-text pull-left\">\r\n\t\t\t\t\t\t{{publication.text}}\r\n\t\t\t\t\t</h4>\r\n\r\n\t\t\t\t\t<div class=\"pull-right\" *ngIf=\"publication.user._id == identity._id\">\r\n\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t<!-- Button HTML (to Trigger Modal) -->\r\n\t\t\t\t\t\t<a href=\"#myModal{{publication._id}}\" role=\"button\" class=\"btn btn-large btn-danger\" data-toggle=\"modal\" *ngIf=\"showImage != publication._id\">\r\n\t\t\t\t\t\t\t<span class=\"glyphicon glyphicon-trash\"></span>\r\n\t\t\t\t\t\t</a>\r\n\r\n\t\t\t\t\t\t<!-- Modal HTML -->\r\n\t\t\t\t\t\t<div id=\"myModal{{publication._id}}\" class=\"modal fade\">\r\n\t\t\t\t\t\t    <div class=\"modal-dialog\">\r\n\t\t\t\t\t\t        <div class=\"modal-content\">\r\n\t\t\t\t\t\t            <div class=\"modal-header\">\r\n\t\t\t\t\t\t                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\r\n\t\t\t\t\t\t                <h4 class=\"modal-title\">¿Seguro que quieres eliminar la publicación?</h4>\r\n\t\t\t\t\t\t            </div>\r\n\t\t\t\t\t\t            <div class=\"modal-body\">\r\n\t\t\t\t\t\t                <p>Si la borras no podrás recuperarla</p>\r\n\t\t\t\t\t\t            </div>\r\n\t\t\t\t\t\t            <div class=\"modal-footer\">\r\n\t\t\t\t\t\t                <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Cancelar</button>\r\n\t\t\t\t\t\t                <button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\" (click)=\"deletePublication(publication._id)\">Borrar</button>\r\n\t\t\t\t\t\t            </div>\r\n\t\t\t\t\t\t        </div>\r\n\t\t\t\t\t\t    </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"pull-right\" *ngIf=\"publication.file != 'null'\">\r\n\t\t\t\t\t\t<button class=\"btn btn-warning pull-right\" (click)=\"showThisImage(publication._id)\" *ngIf=\"showImage != publication._id\">\r\n\t\t\t\t\t\t\t<span class=\"glyphicon glyphicon-picture\"></span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button class=\"btn btn-danger pull-right\" (click)=\"showThisImage(0)\" *ngIf=\"showImage == publication._id\">\r\n\t\t\t\t\t\t\t<span class=\"glyphicon glyphicon-remove-circle\"></span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col-lg-12\" *ngIf=\"publication.file && showImage == publication._id\">\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<img src=\"{{ url + 'get-image-pub/' + publication.file }}\" class=\"col-lg-12\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class=\"col-lg-12 text-center\" *ngIf=\"publications && publications.length\">\r\n\t\t<p>\r\n\t\t\t<button class=\"btn btn-success\" (click)=\"viewMore()\" *ngIf=\"!noMore\">\r\n\t\t\t\tVer más\r\n\t\t\t</button>\r\n\t\t</p>\r\n\t</div>\r\n</div>\r\n\r\n<sidebar (sent)=\"refresh($event)\"></sidebar>\r\n\r\n<div class=\"clearfix\"></div>\r\n"

/***/ }),

/***/ "./src/app/components/timeline/timeline.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TimelineComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_global__ = __webpack_require__("./src/app/services/global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_publication_service__ = __webpack_require__("./src/app/services/publication.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var TimelineComponent = /** @class */ (function () {
    function TimelineComponent(_route, _router, _userService, _publicationService) {
        this._route = _route;
        this._router = _router;
        this._userService = _userService;
        this._publicationService = _publicationService;
        this.noMore = false;
        this.title = 'Timeline';
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
        this.url = __WEBPACK_IMPORTED_MODULE_2__services_global__["a" /* GLOBAL */].url;
        this.page = 1;
    }
    TimelineComponent.prototype.ngOnInit = function () {
        console.log('timeline.component cargado');
        this.getPublications(this.page);
    };
    TimelineComponent.prototype.getPublications = function (page, adding) {
        var _this = this;
        if (adding === void 0) { adding = false; }
        this._publicationService.getPublications(this.token, page).subscribe(function (response) {
            console.log(response);
            if (response.publications) {
                _this.total = response.total_items;
                _this.pages = response.pages;
                _this.itemsPerPage = response.itemsPerPage;
                if (!adding) {
                    _this.publications = response.publications;
                }
                else {
                    var arrayA = _this.publications;
                    var arrayB = response.publications;
                    _this.publications = arrayA.concat(arrayB);
                    //scroll automático con jquery
                    $('html, body').animate({ scrollTop: $('html').prop('scrollHeight') }, 500);
                }
                /*
                if(page > this.pages){
                    this._router.navigate(['/home']);
                }
                */
            }
            else {
                _this.status = 'error';
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    TimelineComponent.prototype.viewMore = function () {
        this.page += 1;
        if (this.page == this.pages) {
            this.noMore = true;
        }
        this.getPublications(this.page, true);
    };
    // la función de evento del componente debe estar definida en el padre
    TimelineComponent.prototype.refresh = function (event) {
        if (event === void 0) { event = null; }
        this.getPublications(1);
    };
    TimelineComponent.prototype.showThisImage = function (id) {
        this.showImage = id;
    };
    TimelineComponent.prototype.deletePublication = function (id) {
        var _this = this;
        this._publicationService.deletePublication(this.token, id).subscribe(function (response) {
            _this.refresh();
        }, function (error) {
            console.log(error);
        });
    };
    TimelineComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'timeline',
            template: __webpack_require__("./src/app/components/timeline/timeline.component.html"),
            providers: [__WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */], __WEBPACK_IMPORTED_MODULE_4__services_publication_service__["a" /* PublicationService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_4__services_publication_service__["a" /* PublicationService */]])
    ], TimelineComponent);
    return TimelineComponent;
}());



/***/ }),

/***/ "./src/app/components/tournaments/tournaments.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container-fluid\">\r\n\t<p><button type=\"button\" class=\"btn btn-success btn-lg\" [routerLink]=\"['/crear-torneo']\">Crear torneo</button></p>\r\n\t<div class=\"panel panel-default\">\r\n\t\t<div class=\"panel-body\">\r\n\t\t\t<table class=\"table\">\r\n\t\t\t  <thead>\r\n\t\t\t    <tr>\r\n\t\t\t      <th style=\"width: 20%\" scope=\"col\">Nombre</th>\r\n\t\t\t\t\t\t<th style=\"width: 20%\" scope=\"col\">Tipo</th>\r\n\t\t\t      <th style=\"width: 20%\" scope=\"col\">Fecha inicio</th>\r\n\t\t\t      <th style=\"width: 20%\" scope=\"col\">Participantes</th>\r\n\t\t\t      <th style=\"width: 20%\" scope=\"col\">Unirse</th>\r\n\t\t\t    </tr>\r\n\t\t\t  </thead>\r\n\t\t\t  <tbody>\r\n\t\t\t    <tr *ngFor=\"let tournament of tournaments\" class=\"item-publication\">\r\n\t\t\t      <th scope=\"row\"><a [routerLink]=\"['/tournament/', tournament._id]\">{{tournament.name}}</a></th>\r\n\t\t\t\t\t\t<td>{{tournament.type}}</td>\r\n\t\t\t      <td>{{ (tournament.start_date | amFromUnix | amLocale:'es')}}</td>\r\n\t\t\t\t\t\t<td>{{tournament.max_players}}</td>\r\n\t\t\t      <td><a class=\"btn btn-primary btn-sm\" [routerLink]=\"['/tournament/', tournament._id, 'rules']\">Unirse</a></td>\r\n\t\t\t    </tr>\r\n\t\t\t  </tbody>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<div class=\"col-lg-12 text-center\" *ngIf=\"tournaments && tournaments.length\">\r\n\t<p>\r\n\t\t<button class=\"btn btn-success\" (click)=\"viewMore()\" *ngIf=\"!noMore\">\r\n\t\t\tVer más\r\n\t\t</button>\r\n\t</p>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/tournaments/tournaments.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TournamentsComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_global__ = __webpack_require__("./src/app/services/global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_tournament_service__ = __webpack_require__("./src/app/services/tournament.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var TournamentsComponent = /** @class */ (function () {
    function TournamentsComponent(_route, _router, _userService, _tournamentService) {
        this._route = _route;
        this._router = _router;
        this._userService = _userService;
        this._tournamentService = _tournamentService;
        this.noMore = false;
        this.title = 'Torneos';
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
        this.url = __WEBPACK_IMPORTED_MODULE_2__services_global__["a" /* GLOBAL */].url;
        this.page = 1;
    }
    TournamentsComponent.prototype.ngOnInit = function () {
        this.getTournaments();
    };
    TournamentsComponent.prototype.getTournaments = function (adding) {
        var _this = this;
        if (adding === void 0) { adding = false; }
        this._tournamentService.getTournaments(this.token, this.page).subscribe(function (response) {
            console.log(response);
            if (response.tournaments) {
                _this.total = response.total_items;
                _this.pages = response.pages;
                _this.itemsPerPage = response.itemsPerPage;
                if (!adding) {
                    _this.tournaments = response.tournaments;
                }
                else {
                    var arrayA = _this.tournaments;
                    var arrayB = response.tournaments;
                    _this.tournaments = arrayA.concat(arrayB);
                    //scroll automático con jquery
                    $('html, body').animate({ scrollTop: $('html').prop('scrollHeight') }, 500);
                }
            }
            else {
                _this.status = 'error';
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    TournamentsComponent.prototype.viewMore = function () {
        this.page += 1;
        if (this.page == this.pages) {
            this.noMore = true;
        }
        this.getTournaments(true);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
        __metadata("design:type", String)
    ], TournamentsComponent.prototype, "user", void 0);
    TournamentsComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'tournaments',
            template: __webpack_require__("./src/app/components/tournaments/tournaments.component.html"),
            providers: [__WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */], __WEBPACK_IMPORTED_MODULE_4__services_tournament_service__["a" /* TournamentService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_4__services_tournament_service__["a" /* TournamentService */]])
    ], TournamentsComponent);
    return TournamentsComponent;
}());



/***/ }),

/***/ "./src/app/components/user-edit/user-edit.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-5\">\r\n\t<h1 class=\"h1-strong\">{{title}}</h1>\r\n\r\n\t<div class=\"alert alert-success\" *ngIf=\"status == 'success'\">\r\n\t\tLos datos se han actualizado correctamente.\r\n\t</div>\r\n\r\n\t<div class=\"alert alert-danger\" *ngIf=\"status == 'error'\">\r\n\t\tNo se ha podido completar la modificación de los datos. Ha ocurrido un error.\r\n\t</div>\r\n\r\n\t<form #userEditForm=\"ngForm\" (ngSubmit)=\"onSubmit()\" class=\"col-lg-12\">\r\n\t\t<p>\r\n\t\t\t<label>Nombre</label>\r\n\t\t\t<input type=\"text\" name=\"name\" #name=\"ngModel\" [(ngModel)]=\"user.name\" class=\"form-control\" required />\r\n\t\t\t<span *ngIf=\"!name.valid && name.touched\">\r\n\t\t\t\tEl nombre es obligatorio\r\n\t\t\t</span>\r\n\t\t</p>\r\n\r\n\t\t<p>\r\n\t\t\t<label>Apellidos</label>\r\n\t\t\t<input type=\"text\" name=\"surname\" #surname=\"ngModel\" [(ngModel)]=\"user.surname\" class=\"form-control\" required />\r\n\t\t\t<span *ngIf=\"!surname.valid && surname.touched\">\r\n\t\t\t\tLos apellidos son obligatorios\r\n\t\t\t</span>\r\n\t\t</p>\r\n\r\n\t\t<p>\r\n\t\t\t<label>Nick</label>\r\n\t\t\t<input type=\"text\" name=\"nick\" #nick=\"ngModel\" [(ngModel)]=\"user.nick\" class=\"form-control\" required />\r\n\t\t\t<span *ngIf=\"!nick.valid && nick.touched\">\r\n\t\t\t\tEl nick es obligatorio\r\n\t\t\t</span>\r\n\t\t</p>\r\n\r\n\t\t<p>\r\n\t\t\t<label>Email</label>\r\n\t\t\t<input type=\"email\" name=\"email\" #email=\"ngModel\" [(ngModel)]=\"user.email\" class=\"form-control\" required pattern=\"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{1,63}$\"/>\r\n\t\t\t<span *ngIf=\"!email.valid && email.touched\">\r\n\t\t\t\tEl email es obligatorio\r\n\t\t\t</span>\r\n\t\t</p>\r\n\r\n\t\t<div *ngIf=\"user.image\">\r\n\t\t\t<img src=\"{{ url + 'get-image-user/' + user.image }}\" />\r\n\t\t</div>\r\n\r\n\t\t<p>\r\n\t\t\t<label>Sube tu avatar</label>\r\n\t\t\t<input type=\"file\" placeholder=\"Subir imagen\" (change)=\"fileChangeEvent($event)\" />\r\n\t\t</p>\r\n\r\n\t\t<input type=\"submit\" value=\"{{title}}\" class=\"btn btn-warning\" [disabled]=\"!userEditForm.form.valid\" />\r\n\r\n\t</form>\r\n</div>"

/***/ }),

/***/ "./src/app/components/user-edit/user-edit.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserEditComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_upload_service__ = __webpack_require__("./src/app/services/upload.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var UserEditComponent = /** @class */ (function () {
    function UserEditComponent(_route, _router, _userService, _uploadService) {
        this._route = _route;
        this._router = _router;
        this._userService = _userService;
        this._uploadService = _uploadService;
        this.title = 'Actualizar mis datos';
        this.user = this._userService.getIdentity();
        this.identity = this.user;
        this.token = this._userService.getToken();
        this.url = __WEBPACK_IMPORTED_MODULE_4__services_global__["a" /* GLOBAL */].url;
    }
    UserEditComponent.prototype.ngOnInit = function () {
        console.log(this.user);
        console.log('user-edit.component se ha cargado!!');
    };
    UserEditComponent.prototype.onSubmit = function () {
        var _this = this;
        //console.log(this.user);
        this._userService.updateUser(this.user).subscribe(function (response) {
            if (!response.user) {
                _this.status = 'error';
            }
            else {
                _this.status = 'success';
                localStorage.setItem('identity', JSON.stringify(response.user));
                _this.identity = response.user;
                // subida imagen usuario
                _this._uploadService.makeFileRequest(_this.url + 'upload-image-user/' + _this.user._id, [], _this.filesToUpload, _this.token, 'image').then(function (result) {
                    console.log(result);
                    _this.user.image = result.user.image;
                    localStorage.setItem('identity', JSON.stringify(_this.user));
                });
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    UserEditComponent.prototype.fileChangeEvent = function (fileInput) {
        this.filesToUpload = fileInput.target.files;
        console.log(this.filesToUpload);
    };
    UserEditComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'user-edit',
            template: __webpack_require__("./src/app/components/user-edit/user-edit.component.html"),
            providers: [__WEBPACK_IMPORTED_MODULE_2__services_user_service__["a" /* UserService */], __WEBPACK_IMPORTED_MODULE_3__services_upload_service__["a" /* UploadService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_3__services_upload_service__["a" /* UploadService */]])
    ], UserEditComponent);
    return UserEditComponent;
}());



/***/ }),

/***/ "./src/app/components/users/users.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-8\">\r\n\t<h1 class=\"h1-strong\">{{title}}</h1>\r\n\r\n\t<div class=\"people\">\r\n\t\t<!--listado-->\r\n\t\t<div *ngFor=\"let user of users\" class=\"item-user\">\r\n\t\t\t<div class=\"panel panel-default\">\r\n\t\t\t\t<div class=\"panel-body\">\r\n\t\t\t\t\t<div class=\"image-user pull-left\">\r\n\t\t\t\t\t\t<a href=\"#\"><img src=\"{{ url + 'get-image-user/' + user.image }}\" *ngIf=\"user.image\" /></a>\r\n\t\t\t\t\t\t<a href=\"#\"><img src=\"assets/default_user.png\" class=\"avatar-default\" *ngIf=\"!user.image\" /></a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"user-name pull-left\">\r\n\t\t\t\t\t\t<p class=\"name-surname\"><a [routerLink]=\"['/perfil', user._id]\">{{user.name}} + {{user.surname}}</a></p>\r\n\t\t\t\t\t\t<p class=\"nickname\">{{user.nick}}</p>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<!-- follow unfollow -->\r\n\r\n\t\t\t\t\t<div class=\"pull-right\" *ngIf=\"user._id != identity._id\">\r\n\t\t\t\t\t\t<button class=\"btn btn-success\" *ngIf=\"follows.indexOf(user._id) < 0\" (click)=\"followUser(user._id)\">\r\n\t\t\t\t\t\t\t<span class=\"glyphicon glyphicon-plus-sign\"></span> Seguir\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t<button class=\"btn btn-primary\" *ngIf=\"follows.indexOf(user._id) >= 0\" (mouseenter)=\"mouseEnter(user._id)\" (mouseleave)=\"mouseLeave(user._id)\" [class.btn-danger]=\"user._id == followUserOver\" (click)=\"unfollowUser(user._id)\">\r\n\t\t\t\t\t\t\t<span *ngIf=\"user._id == followUserOver; else following\">\r\n\t\t\t\t\t\t\t\t<span class=\"glyphicon glyphicon-minus-sign\"></span> Dejar de seguir\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<ng-template #following>\r\n\t\t\t\t\t\t\t\t<span class=\"glyphicon glyphicon-ok-sign\"></span> Siguiendo\r\n\t\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<!--paginación -->\r\n\t<ul class=\"pagination pull-right\">\r\n\t\t<li *ngIf=\"page > 1\"><a [routerLink]=\"['/gente', prev_page]\"> Anterior </a></li>\r\n\t\t<li *ngIf=\"pages != page\"><a [routerLink]=\"['/gente', next_page]\"> Siguiente </a></li>\r\n\t</ul>\r\n</div>\r\n\r\n<sidebar></sidebar>\r\n\r\n<div class=\"clearfix\"></div>"

/***/ }),

/***/ "./src/app/components/users/users.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UsersComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_follow__ = __webpack_require__("./src/app/models/follow.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_follow_service__ = __webpack_require__("./src/app/services/follow.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var UsersComponent = /** @class */ (function () {
    function UsersComponent(_route, _router, _userService, _followService) {
        this._route = _route;
        this._router = _router;
        this._userService = _userService;
        this._followService = _followService;
        this.title = 'Gente';
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
        this.url = __WEBPACK_IMPORTED_MODULE_5__services_global__["a" /* GLOBAL */].url;
    }
    UsersComponent.prototype.ngOnInit = function () {
        this.actualPage();
    };
    UsersComponent.prototype.actualPage = function () {
        var _this = this;
        this._route.params.subscribe(function (params) {
            //paginación
            var page;
            if (!params['page']) {
                page = 1;
            }
            else {
                page = +params['page'];
            }
            _this.page = page;
            if (!page) {
                page = 1;
            }
            else {
                _this.next_page = page + 1;
                _this.prev_page = page - 1;
                if (_this.prev_page <= 0) {
                    _this.prev_page = 1;
                }
            }
            //devolver listado usuarios
            _this.getUsers(page);
        });
    };
    UsersComponent.prototype.getUsers = function (page) {
        var _this = this;
        this._userService.getUsers(page).subscribe(function (response) {
            if (!response.users) {
                _this.status = 'error';
            }
            else {
                _this.total = response.total;
                _this.users = response.users;
                _this.pages = response.pages;
                _this.follows = response.users_following;
                if (page > _this.pages) {
                    _this._router.navigate(['/gente']);
                }
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    UsersComponent.prototype.mouseEnter = function (user_id) {
        this.followUserOver = user_id;
    };
    UsersComponent.prototype.mouseLeave = function (user_id) {
        this.followUserOver = 0;
    };
    UsersComponent.prototype.followUser = function (followed) {
        var _this = this;
        var follow = new __WEBPACK_IMPORTED_MODULE_2__models_follow__["a" /* Follow */]('', this.identity._id, followed);
        this._followService.addFollow(this.token, follow).subscribe(function (response) {
            if (!response.follow) {
                _this.status = 'error';
            }
            else {
                _this.status = 'success';
                _this.follows.push(followed);
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    UsersComponent.prototype.unfollowUser = function (id_followed) {
        var _this = this;
        this._followService.deleteFollow(this.token, id_followed).subscribe(function (response) {
            var search = _this.follows.indexOf(id_followed);
            if (search != -1) {
                _this.follows.splice(search, 1);
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    UsersComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'users',
            template: __webpack_require__("./src/app/components/users/users.component.html"),
            providers: [__WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */], __WEBPACK_IMPORTED_MODULE_4__services_follow_service__["a" /* FollowService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_4__services_follow_service__["a" /* FollowService */]])
    ], UsersComponent);
    return UsersComponent;
}());



/***/ }),

/***/ "./src/app/messages/components/add/add.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-10\">\r\n\t<h3>{{title}}</h3>\r\n\t\r\n\t<div class=\"alert alert-success\" *ngIf=\"status == 'success'\">\r\n\t\tHas enviado el mensaje correctamente, míralo en <a [routerLink]=\"['/mensajes/enviados']\"> tus mensajes enviados</a>\r\n\t</div>\r\n\r\n\t<div class=\"alert alert-danger\" *ngIf=\"status == 'error'\">\r\n\t\tNo se ha podido enviar el mensaje, inténtalo más tarde.\r\n\t</div>\r\n\r\n\t<form #formAdd=\"ngForm\" (ngSubmit)=\"onSubmit(formAdd)\">\r\n\t\t<p>\r\n\t\t\t<label>Para: </label>\r\n\t\t\t<!-- seguidores -->\r\n\t\t\t<select *ngIf=\"follows\" name=\"receiver\" #receiver=\"ngModel\" [(ngModel)]=\"message.receiver\" class=\"form-control\" required>\r\n\t\t\t\t<option *ngFor=\"let follow of follows\" value=\"{{follow.user._id}}\">\r\n\t\t\t\t\t{{follow.user.name + ' ' + follow.user.surname + ' (' + follow.user.nick + ')' }}\r\n\t\t\t\t</option>\r\n\t\t\t</select>\r\n\t\t</p>\r\n\t\t<p>\r\n\t\t\t<label>Mensaje</label>\r\n\t\t\t<textarea name=\"text\" #text=\"ngModel\" [(ngModel)]=\"message.text\" class=\"form-control\" required></textarea>\r\n\t\t\t<span *ngIf=\"!text.valid && text.touched\">El mensaje es obligatorio</span>\r\n\t\t</p>\r\n\t\t<input type=\"submit\" value=\"{{title}}\" class=\"btn btn-success\" />\r\n\r\n\t</form>\r\n</div>"

/***/ }),

/***/ "./src/app/messages/components/add/add.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AddComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_message__ = __webpack_require__("./src/app/models/message.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_message_service__ = __webpack_require__("./src/app/services/message.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_follow_service__ = __webpack_require__("./src/app/services/follow.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var AddComponent = /** @class */ (function () {
    function AddComponent(_route, _router, _followService, _messageService, _userService) {
        this._route = _route;
        this._router = _router;
        this._followService = _followService;
        this._messageService = _messageService;
        this._userService = _userService;
        this.title = 'Enviar mensajes';
        this.identity = this._userService.getIdentity();
        this.message = new __WEBPACK_IMPORTED_MODULE_2__models_message__["a" /* Message */]('', '', '', '', this.identity._id, '');
        this.token = this._userService.getToken();
        this.url = __WEBPACK_IMPORTED_MODULE_6__services_global__["a" /* GLOBAL */].url;
    }
    AddComponent.prototype.ngOnInit = function () {
        console.log('add.component cargado');
        this.getMyFollows();
    };
    AddComponent.prototype.getMyFollows = function () {
        var _this = this;
        this._followService.getMyFollows(this.token).subscribe(function (response) {
            _this.follows = response.follows;
        }, function (error) {
            console.log(error);
        });
    };
    AddComponent.prototype.onSubmit = function (form) {
        var _this = this;
        this._messageService.addMessage(this.token, this.message).subscribe(function (response) {
            if (response.message) {
                _this.status = 'success';
                form.reset();
            }
        }, function (error) {
            _this.status = 'error';
            console.log(error);
        });
    };
    AddComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'add',
            template: __webpack_require__("./src/app/messages/components/add/add.component.html"),
            providers: [__WEBPACK_IMPORTED_MODULE_4__services_follow_service__["a" /* FollowService */], __WEBPACK_IMPORTED_MODULE_3__services_message_service__["a" /* MessageService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_4__services_follow_service__["a" /* FollowService */],
            __WEBPACK_IMPORTED_MODULE_3__services_message_service__["a" /* MessageService */],
            __WEBPACK_IMPORTED_MODULE_5__services_user_service__["a" /* UserService */]])
    ], AddComponent);
    return AddComponent;
}());



/***/ }),

/***/ "./src/app/messages/components/main/main.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-4\">\r\n\t<h3>{{title}}</h3>\r\n\r\n\t<div class=\"sidebar-admin\">\r\n\t\t<ul class=\"nav nav-pills nav-stacked nav-pills-stacked-example\">\r\n\t\t\t<li role=\"presentation\" [routerLinkActive]=\"['active']\">\r\n\t\t\t\t<a [routerLink]=\"['enviar']\">Enviar mensaje</a>\r\n\t\t\t</li>\r\n\t\t\t<li role=\"presentation\" [routerLinkActive]=\"['active']\">\r\n\t\t\t\t<a [routerLink]=\"['recibidos']\">Mensajes recibidos</a>\r\n\t\t\t</li>\r\n\t\t\t<li role=\"presentation\" [routerLinkActive]=\"['active']\">\r\n\t\t\t\t<a [routerLink]=\"['enviados']\">Mensajes enviados</a>\r\n\t\t\t</li>\r\n\t\t\t<li role=\"presentation\" [routerLinkActive]=\"['active']\">\r\n\t\t\t\t<a [routerLink]=\"['/home']\">Información</a>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t</div>\r\n</div>\r\n\r\n<div class=\"col-lg-8\">\r\n\t<!-- components/router -->\r\n\t<router-outlet></router-outlet>\r\n</div>"

/***/ }),

/***/ "./src/app/messages/components/main/main.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MainComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var MainComponent = /** @class */ (function () {
    function MainComponent() {
        this.title = 'Mensajes privados';
    }
    MainComponent.prototype.ngOnInit = function () {
        console.log('main.component cargado');
    };
    MainComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'main',
            template: __webpack_require__("./src/app/messages/components/main/main.component.html")
        }),
        __metadata("design:paramtypes", [])
    ], MainComponent);
    return MainComponent;
}());



/***/ }),

/***/ "./src/app/messages/components/received/received.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-10\">\r\n\t<h3>{{title}}</h3>\r\n\t<!-- listado mensajes -->\r\n\r\n\t<div class=\"people\" *ngIf=\"messages\">\r\n\t\t\r\n\t\t<div *ngFor=\"let message of messages\" class=\"item-user\">\r\n\t\t\t<div class=\"panel panel-default\" *ngIf=\"message.emitter\">\r\n\t\t\t\t<div class=\"panel-body\">\r\n\t\t\t\t\t<div class=\"image-user pull-left\">\r\n\t\t\t\t\t\t<a href=\"#\"><img src=\"{{ url + 'get-image-user/' + message.emitter.image }}\" *ngIf=\"message.emitter.image\" /></a>\r\n\t\t\t\t\t\t<a href=\"#\"><img src=\"assets/default_user.png\" class=\"avatar-default\" *ngIf=\"!message.emitter.image\" /></a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"user-name pull-left\">\r\n\t\t\t\t\t\t<p class=\"name-surname\">\r\n\t\t\t\t\t\t\t<a [routerLink]=\"['/perfil', message.emitter._id]\">{{message.emitter.name}} + {{message.emitter.surname}}</a>\r\n\t\t\t\t\t\t\t|\r\n\t\t\t\t\t\t\t<span class=\"nickname\">{{message.emitter.nick}}</span>\r\n\t\t\t\t\t\t\t|\r\n\t\t\t\t\t\t\t<span class=\"date\">{{ (message.created_at | amFromUnix) | amLocale:'es' | amTimeAgo }}</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t{{message.text}}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t\r\n\t<ul class=\"pagination pull-right\">\r\n\t\t<li *ngIf=\"page > 1\"><a [routerLink]=\"['/mensajes/recibidos', prev_page]\"> Anterior </a></li>\r\n\t\t<li *ngIf=\"pages != page\"><a [routerLink]=\"['/mensajes/recibidos', next_page]\"> Siguiente </a></li>\r\n\t</ul>\r\n</div>"

/***/ }),

/***/ "./src/app/messages/components/received/received.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ReceivedComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_message_service__ = __webpack_require__("./src/app/services/message.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_follow_service__ = __webpack_require__("./src/app/services/follow.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ReceivedComponent = /** @class */ (function () {
    function ReceivedComponent(_route, _router, _followService, _messageService, _userService) {
        this._route = _route;
        this._router = _router;
        this._followService = _followService;
        this._messageService = _messageService;
        this._userService = _userService;
        this.title = 'Mensajes recibidos';
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
        this.url = __WEBPACK_IMPORTED_MODULE_5__services_global__["a" /* GLOBAL */].url;
    }
    ReceivedComponent.prototype.ngOnInit = function () {
        console.log('received.component cargado');
        this.actualPage();
    };
    ReceivedComponent.prototype.getMessages = function (token, page) {
        var _this = this;
        this._messageService.getMyMessages(token, page).subscribe(function (response) {
            if (response.messages) {
                _this.messages = response.messages;
                _this.total = response.total;
                _this.pages = response.pages;
            }
        }, function (error) {
            console.log(error);
        });
    };
    ReceivedComponent.prototype.actualPage = function () {
        var _this = this;
        this._route.params.subscribe(function (params) {
            //paginación
            var page;
            if (!params['page']) {
                page = 1;
            }
            else {
                page = +params['page'];
            }
            _this.page = page;
            if (!page) {
                page = 1;
            }
            else {
                _this.next_page = page + 1;
                _this.prev_page = page - 1;
                if (_this.prev_page <= 0) {
                    _this.prev_page = 1;
                }
            }
            _this.getMessages(_this.token, _this.page);
        });
    };
    ReceivedComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'received',
            template: __webpack_require__("./src/app/messages/components/received/received.component.html"),
            providers: [__WEBPACK_IMPORTED_MODULE_2__services_message_service__["a" /* MessageService */], __WEBPACK_IMPORTED_MODULE_3__services_follow_service__["a" /* FollowService */], __WEBPACK_IMPORTED_MODULE_4__services_user_service__["a" /* UserService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__services_follow_service__["a" /* FollowService */],
            __WEBPACK_IMPORTED_MODULE_2__services_message_service__["a" /* MessageService */],
            __WEBPACK_IMPORTED_MODULE_4__services_user_service__["a" /* UserService */]])
    ], ReceivedComponent);
    return ReceivedComponent;
}());



/***/ }),

/***/ "./src/app/messages/components/sent/sent.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-10\">\r\n\t<h3>{{title}}</h3>\r\n\t<!-- listado mensajes -->\r\n\r\n\t<div class=\"people\" *ngIf=\"messages\">\r\n\t\t\r\n\t\t<div *ngFor=\"let message of messages\" class=\"item-user\">\r\n\t\t\t<div class=\"panel panel-default\">\r\n\t\t\t\t<div class=\"panel-body\">\r\n\t\t\t\t\t<div class=\"image-user pull-left\">\r\n\t\t\t\t\t\t<a href=\"#\"><img src=\"{{ url + 'get-image-user/' + message.receiver.image }}\" *ngIf=\"message.receiver.image\" /></a>\r\n\t\t\t\t\t\t<a href=\"#\"><img src=\"assets/default_user.png\" class=\"avatar-default\" *ngIf=\"!message.receiver.image\" /></a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"user-name pull-left\">\r\n\t\t\t\t\t\t<p class=\"name-surname\">\r\n\t\t\t\t\t\t\tEnviado a <a [routerLink]=\"['/perfil', message.emitter._id]\">{{message.emitter.name}} + {{message.emitter.surname}}</a>\r\n\t\t\t\t\t\t\t|\r\n\t\t\t\t\t\t\t<span class=\"nickname\">{{message.receiver.nick}}</span>\r\n\t\t\t\t\t\t\t|\r\n\t\t\t\t\t\t\t<span class=\"date\">{{ (message.created_at | amFromUnix) | amLocale:'es' | amTimeAgo }}</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t{{message.text}}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t\r\n\t<ul class=\"pagination pull-right\">\r\n\t\t<li *ngIf=\"page > 1\"><a [routerLink]=\"['/mensajes/enviados', prev_page]\"> Anterior </a></li>\r\n\t\t<li *ngIf=\"pages != page\"><a [routerLink]=\"['/mensajes/enviados', next_page]\"> Siguiente </a></li>\r\n\t</ul>\r\n</div>"

/***/ }),

/***/ "./src/app/messages/components/sent/sent.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SentComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_message_service__ = __webpack_require__("./src/app/services/message.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_follow_service__ = __webpack_require__("./src/app/services/follow.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var SentComponent = /** @class */ (function () {
    function SentComponent(_route, _router, _followService, _messageService, _userService) {
        this._route = _route;
        this._router = _router;
        this._followService = _followService;
        this._messageService = _messageService;
        this._userService = _userService;
        this.title = 'Mensajes enviados';
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
        this.url = __WEBPACK_IMPORTED_MODULE_5__services_global__["a" /* GLOBAL */].url;
    }
    SentComponent.prototype.ngOnInit = function () {
        console.log('sent.component cargado');
        this.actualPage();
    };
    SentComponent.prototype.getMessages = function (token, page) {
        var _this = this;
        this._messageService.getEmittMessages(token, page).subscribe(function (response) {
            if (response.messages) {
                _this.messages = response.messages;
                _this.total = response.total;
                _this.pages = response.pages;
            }
        }, function (error) {
            console.log(error);
        });
    };
    SentComponent.prototype.actualPage = function () {
        var _this = this;
        this._route.params.subscribe(function (params) {
            //paginación
            var page;
            if (!params['page']) {
                page = 1;
            }
            else {
                page = +params['page'];
            }
            _this.page = page;
            if (!page) {
                page = 1;
            }
            else {
                _this.next_page = page + 1;
                _this.prev_page = page - 1;
                if (_this.prev_page <= 0) {
                    _this.prev_page = 1;
                }
            }
            _this.getMessages(_this.token, _this.page);
        });
    };
    SentComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'sent',
            template: __webpack_require__("./src/app/messages/components/sent/sent.component.html"),
            providers: [__WEBPACK_IMPORTED_MODULE_2__services_message_service__["a" /* MessageService */], __WEBPACK_IMPORTED_MODULE_3__services_follow_service__["a" /* FollowService */], __WEBPACK_IMPORTED_MODULE_4__services_user_service__["a" /* UserService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__services_follow_service__["a" /* FollowService */],
            __WEBPACK_IMPORTED_MODULE_2__services_message_service__["a" /* MessageService */],
            __WEBPACK_IMPORTED_MODULE_4__services_user_service__["a" /* UserService */]])
    ], SentComponent);
    return SentComponent;
}());



/***/ }),

/***/ "./src/app/messages/messages-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MessagesRoutingModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_main_main_component__ = __webpack_require__("./src/app/messages/components/main/main.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_add_add_component__ = __webpack_require__("./src/app/messages/components/add/add.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_received_received_component__ = __webpack_require__("./src/app/messages/components/received/received.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_sent_sent_component__ = __webpack_require__("./src/app/messages/components/sent/sent.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_user_guard__ = __webpack_require__("./src/app/services/user.guard.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


// components





var messagesRoutes = [
    {
        path: 'mensajes',
        component: __WEBPACK_IMPORTED_MODULE_2__components_main_main_component__["a" /* MainComponent */],
        children: [
            { path: '', redirectTo: 'recibidos', pathMatch: 'full' },
            { path: 'enviar', component: __WEBPACK_IMPORTED_MODULE_3__components_add_add_component__["a" /* AddComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_6__services_user_guard__["a" /* UserGuard */]] },
            { path: 'recibidos', component: __WEBPACK_IMPORTED_MODULE_4__components_received_received_component__["a" /* ReceivedComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_6__services_user_guard__["a" /* UserGuard */]] },
            { path: 'recibidos/:page', component: __WEBPACK_IMPORTED_MODULE_4__components_received_received_component__["a" /* ReceivedComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_6__services_user_guard__["a" /* UserGuard */]] },
            { path: 'enviados', component: __WEBPACK_IMPORTED_MODULE_5__components_sent_sent_component__["a" /* SentComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_6__services_user_guard__["a" /* UserGuard */]] },
            { path: 'enviados/:page', component: __WEBPACK_IMPORTED_MODULE_5__components_sent_sent_component__["a" /* SentComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_6__services_user_guard__["a" /* UserGuard */]] },
        ]
    }
];
var MessagesRoutingModule = /** @class */ (function () {
    function MessagesRoutingModule() {
    }
    MessagesRoutingModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* RouterModule */].forChild(messagesRoutes)
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* RouterModule */]
            ]
        })
    ], MessagesRoutingModule);
    return MessagesRoutingModule;
}());



/***/ }),

/***/ "./src/app/messages/messages.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MessagesModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_angular2_moment__ = __webpack_require__("./node_modules/angular2-moment/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_angular2_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_angular2_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__messages_routing_module__ = __webpack_require__("./src/app/messages/messages-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_main_main_component__ = __webpack_require__("./src/app/messages/components/main/main.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_add_add_component__ = __webpack_require__("./src/app/messages/components/add/add.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__components_received_received_component__ = __webpack_require__("./src/app/messages/components/received/received.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__components_sent_sent_component__ = __webpack_require__("./src/app/messages/components/sent/sent.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__services_user_guard__ = __webpack_require__("./src/app/services/user.guard.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
// Módulos




// Rutas

// Componentes




// Servicios


var MessagesModule = /** @class */ (function () {
    function MessagesModule() {
    }
    MessagesModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_5__components_main_main_component__["a" /* MainComponent */],
                __WEBPACK_IMPORTED_MODULE_6__components_add_add_component__["a" /* AddComponent */],
                __WEBPACK_IMPORTED_MODULE_7__components_received_received_component__["a" /* ReceivedComponent */],
                __WEBPACK_IMPORTED_MODULE_8__components_sent_sent_component__["a" /* SentComponent */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */],
                __WEBPACK_IMPORTED_MODULE_2__angular_forms__["a" /* FormsModule */],
                __WEBPACK_IMPORTED_MODULE_4__messages_routing_module__["a" /* MessagesRoutingModule */],
                __WEBPACK_IMPORTED_MODULE_3_angular2_moment__["MomentModule"]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_5__components_main_main_component__["a" /* MainComponent */],
                __WEBPACK_IMPORTED_MODULE_6__components_add_add_component__["a" /* AddComponent */],
                __WEBPACK_IMPORTED_MODULE_7__components_received_received_component__["a" /* ReceivedComponent */],
                __WEBPACK_IMPORTED_MODULE_8__components_sent_sent_component__["a" /* SentComponent */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_9__services_user_service__["a" /* UserService */],
                __WEBPACK_IMPORTED_MODULE_10__services_user_guard__["a" /* UserGuard */]
            ]
        })
    ], MessagesModule);
    return MessagesModule;
}());



/***/ }),

/***/ "./src/app/models/follow.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Follow; });
var Follow = /** @class */ (function () {
    function Follow(_id, user, followed) {
        this._id = _id;
        this.user = user;
        this.followed = followed;
    }
    return Follow;
}());



/***/ }),

/***/ "./src/app/models/message.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Message; });
var Message = /** @class */ (function () {
    function Message(_id, text, viewed, created_at, emitter, receiver) {
        this._id = _id;
        this.text = text;
        this.viewed = viewed;
        this.created_at = created_at;
        this.emitter = emitter;
        this.receiver = receiver;
    }
    return Message;
}());



/***/ }),

/***/ "./src/app/models/publication.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Publication; });
var Publication = /** @class */ (function () {
    function Publication(_id, text, file, created_at, user) {
        this._id = _id;
        this.text = text;
        this.file = file;
        this.created_at = created_at;
        this.user = user;
    }
    return Publication;
}());



/***/ }),

/***/ "./src/app/models/tournament.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Tournament; });
var Tournament = /** @class */ (function () {
    function Tournament(_id, name, game, created_by, start_date, max_players, type, rules, active, week, bans, bo, lower_bracket, draft, chat, byes, decks) {
        this._id = _id;
        this.name = name;
        this.game = game;
        this.created_by = created_by;
        this.start_date = start_date;
        this.max_players = max_players;
        this.type = type;
        this.rules = rules;
        this.active = active;
        this.week = week;
        this.bans = bans;
        this.bo = bo;
        this.lower_bracket = lower_bracket;
        this.draft = draft;
        this.chat = chat;
        this.byes = byes;
        this.decks = decks;
    }
    return Tournament;
}());



/***/ }),

/***/ "./src/app/models/user.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return User; });
var User = /** @class */ (function () {
    function User(_id, name, surname, nick, email, password, role, image) {
        this._id = _id;
        this.name = name;
        this.surname = surname;
        this.nick = nick;
        this.email = email;
        this.password = password;
        this.role = role;
        this.image = image;
    }
    return User;
}());



/***/ }),

/***/ "./src/app/services/follow.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FollowService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var FollowService = /** @class */ (function () {
    function FollowService(_http) {
        this._http = _http;
        this.url = __WEBPACK_IMPORTED_MODULE_2__global__["a" /* GLOBAL */].url;
    }
    FollowService.prototype.addFollow = function (token, follow) {
        var params = JSON.stringify(follow);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.post(this.url + 'follow', params, { headers: headers });
    };
    FollowService.prototype.deleteFollow = function (token, user_id) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.delete(this.url + 'unfollow/' + user_id, { headers: headers });
    };
    FollowService.prototype.getFollowing = function (token, user_id, page) {
        if (user_id === void 0) { user_id = null; }
        if (page === void 0) { page = 1; }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        var url = this.url + 'following';
        if (user_id != null) {
            url = this.url + 'following/' + user_id + '/' + page;
        }
        return this._http.get(url, { headers: headers });
    };
    FollowService.prototype.getFollowers = function (token, user_id, page) {
        if (user_id === void 0) { user_id = null; }
        if (page === void 0) { page = 1; }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        var url = this.url + 'followers';
        if (user_id != null) {
            url = this.url + 'followers/' + user_id + '/' + page;
        }
        return this._http.get(url, { headers: headers });
    };
    FollowService.prototype.getMyFollows = function (token) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.get(this.url + 'get-my-followers', { headers: headers });
    };
    FollowService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */]])
    ], FollowService);
    return FollowService;
}());



/***/ }),

/***/ "./src/app/services/global.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GLOBAL; });
var GLOBAL = {
    url: 'https://roedor.net/api/',
    env: 'PR'
};


/***/ }),

/***/ "./src/app/services/match.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MatchService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var MatchService = /** @class */ (function () {
    function MatchService(_http) {
        this._http = _http;
        this.url = __WEBPACK_IMPORTED_MODULE_2__global__["a" /* GLOBAL */].url;
    }
    MatchService.prototype.getMatches = function (token, page) {
        if (page === void 0) { page = null; }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.get(this.url + 'matches/' + page, { headers: headers });
    };
    MatchService.prototype.getMatch = function (token, matchId) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.get(this.url + 'match/' + matchId, { headers: headers });
    };
    MatchService.prototype.addChatMatch = function (token, id, text, system) {
        if (system === void 0) { system = false; }
        var params = JSON.parse('{\"chat\": \"' + text + '\", \"system\": ' + system + '}');
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.post(this.url + 'match/addchat/' + id, params, { headers: headers });
    };
    MatchService.prototype.confirmMatch = function (token, id) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.post(this.url + 'match/confirm/' + id, null, { headers: headers });
    };
    MatchService.prototype.classesSelect = function (token, matchId, classes) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.post(this.url + 'match/classes-select/' + matchId, classes, { headers: headers });
    };
    MatchService.prototype.classesBan = function (token, matchId, classes) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.post(this.url + 'match/classes-ban/' + matchId, classes, { headers: headers });
    };
    MatchService.prototype.sendResult = function (token, matchId, match) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        var params = JSON.stringify(match);
        return this._http.post(this.url + 'match/sendresult/' + matchId, params, { headers: headers });
    };
    MatchService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */]])
    ], MatchService);
    return MatchService;
}());



/***/ }),

/***/ "./src/app/services/message.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MessageService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var MessageService = /** @class */ (function () {
    function MessageService(_http) {
        this._http = _http;
        this.url = __WEBPACK_IMPORTED_MODULE_2__global__["a" /* GLOBAL */].url;
    }
    MessageService.prototype.addMessage = function (token, message) {
        var params = JSON.stringify(message);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.post(this.url + 'message', params, { headers: headers });
    };
    MessageService.prototype.getMyMessages = function (token, page) {
        if (page === void 0) { page = 1; }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.get(this.url + 'my-messages/' + page, { headers: headers });
    };
    MessageService.prototype.getEmittMessages = function (token, page) {
        if (page === void 0) { page = 1; }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.get(this.url + 'my-messages-sent/' + page, { headers: headers });
    };
    MessageService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */]])
    ], MessageService);
    return MessageService;
}());



/***/ }),

/***/ "./src/app/services/publication.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PublicationService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var PublicationService = /** @class */ (function () {
    function PublicationService(_http) {
        this._http = _http;
        this.url = __WEBPACK_IMPORTED_MODULE_2__global__["a" /* GLOBAL */].url;
    }
    PublicationService.prototype.addPublication = function (token, publication) {
        var params = JSON.stringify(publication);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.post(this.url + 'publication', params, { headers: headers });
    };
    PublicationService.prototype.getPublications = function (token, page) {
        if (page === void 0) { page = 1; }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.get(this.url + 'publications/' + page, { headers: headers });
    };
    PublicationService.prototype.getPublicationsUser = function (token, user_id, page) {
        if (page === void 0) { page = 1; }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.get(this.url + 'publications-user/' + user_id + '/' + page, { headers: headers });
    };
    PublicationService.prototype.deletePublication = function (token, id) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.delete(this.url + 'publication/' + id, { headers: headers });
    };
    PublicationService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */]])
    ], PublicationService);
    return PublicationService;
}());



/***/ }),

/***/ "./src/app/services/tournament.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TournamentService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var TournamentService = /** @class */ (function () {
    function TournamentService(_http) {
        this._http = _http;
        this.url = __WEBPACK_IMPORTED_MODULE_2__global__["a" /* GLOBAL */].url;
    }
    TournamentService.prototype.getTournaments = function (token, page) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.get(this.url + 'tournaments/' + page, { headers: headers });
    };
    TournamentService.prototype.getTournament = function (token, id) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.get(this.url + 'tournament/' + id, { headers: headers });
    };
    TournamentService.prototype.getIsJoined = function (token, id) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.get(this.url + 'tournament/' + id + '/joined', { headers: headers });
    };
    TournamentService.prototype.getParticipants = function (token, id) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.get(this.url + 'tournament/' + id + '/participants', { headers: headers });
    };
    TournamentService.prototype.getParticipant = function (token, tournament, user) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.get(this.url + 'tournament/' + tournament + '/participant/' + user, { headers: headers });
    };
    TournamentService.prototype.joinTournament = function (token, id) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.post(this.url + 'tournament/join/' + id, null, { headers: headers });
    };
    TournamentService.prototype.unjoinTournament = function (token, id) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.delete(this.url + 'tournament/unjoin/' + id, { headers: headers });
    };
    TournamentService.prototype.addChatTournament = function (token, id, text) {
        var params = JSON.parse('{\"chat\": \"' + text + '\"}');
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.post(this.url + 'tournament/addchat/' + id, params, { headers: headers });
    };
    TournamentService.prototype.getMatches = function (token, id) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.get(this.url + 'tournament/' + id + '/matches', { headers: headers });
    };
    TournamentService.prototype.getStandings = function (token, id) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.get(this.url + 'tournament/' + id + '/standings', { headers: headers });
    };
    TournamentService.prototype.getIsAdminTournament = function (token, id) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.get(this.url + 'tournament/' + id + '/isadmin', { headers: headers });
    };
    TournamentService.prototype.startTournament = function (token, id) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.post(this.url + 'tournament/start/' + id, null, { headers: headers });
    };
    TournamentService.prototype.nextRound = function (token, id) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.post(this.url + 'tournament/nextround/' + id, null, { headers: headers });
    };
    TournamentService.prototype.createTournament = function (token, tournament) {
        var params = JSON.stringify(tournament);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.post(this.url + 'tournament/create', params, { headers: headers });
    };
    TournamentService.prototype.addDeckTournament = function (token, id, name, code) {
        var params = JSON.parse('{\"name\": \"' + name + '\", \"code\": \"' + code + '\"}');
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.post(this.url + 'tournament/' + id + '/participant/newDeck', params, { headers: headers });
    };
    TournamentService.prototype.addPackTournament = function (token, id, pack) {
        //let params = JSON.parse('{\"pool\": \"' + pool + '\"}');
        //let params = JSON.stringify(pool);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', token);
        return this._http.post(this.url + 'tournament/' + id + '/participant/newPack', pack, { headers: headers });
    };
    TournamentService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */]])
    ], TournamentService);
    return TournamentService;
}());



/***/ }),

/***/ "./src/app/services/upload.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UploadService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var UploadService = /** @class */ (function () {
    function UploadService() {
        this.url = __WEBPACK_IMPORTED_MODULE_1__global__["a" /* GLOBAL */].url;
    }
    UploadService.prototype.makeFileRequest = function (url, params, files, token, name) {
        return new Promise(function (resolve, reject) {
            var formData = new FormData();
            var xhr = new XMLHttpRequest();
            for (var i = 0; i < files.length; i++) {
                formData.append(name, files[i], files[i].name);
            }
            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4) {
                    if (xhr.status == 200) {
                        resolve(JSON.parse(xhr.response));
                    }
                    else {
                        reject(xhr.response);
                    }
                }
            };
            xhr.open('POST', url, true);
            xhr.setRequestHeader('Authorization', token);
            xhr.send(formData);
        });
    };
    UploadService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], UploadService);
    return UploadService;
}());



/***/ }),

/***/ "./src/app/services/user.guard.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserGuard; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__user_service__ = __webpack_require__("./src/app/services/user.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var UserGuard = /** @class */ (function () {
    function UserGuard(_router, _userService) {
        this._router = _router;
        this._userService = _userService;
    }
    UserGuard.prototype.canActivate = function () {
        var identity = this._userService.getIdentity();
        if (identity && (identity.role == 'ROLE_USER' || identity.role == 'ROLE_ADMIN')) {
            return true;
        }
        else {
            this._router.navigate(['/login']);
            return false;
        }
    };
    UserGuard = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_2__user_service__["a" /* UserService */]])
    ], UserGuard);
    return UserGuard;
}());



/***/ }),

/***/ "./src/app/services/user.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__global__ = __webpack_require__("./src/app/services/global.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var UserService = /** @class */ (function () {
    function UserService(_http) {
        this._http = _http;
        this.url = __WEBPACK_IMPORTED_MODULE_2__global__["a" /* GLOBAL */].url;
    }
    UserService.prototype.register = function (user) {
        //convertimos el objeto javascript a un json en string
        var params = JSON.stringify(user);
        //con Nodejs, el backend recibe json
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json');
        return this._http.post(this.url + 'register', params, { headers: headers });
    };
    UserService.prototype.signUp = function (user, gettoken) {
        if (gettoken === void 0) { gettoken = null; }
        if (gettoken != null) {
            user.gettoken = gettoken;
        }
        var params = JSON.stringify(user);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json');
        return this._http.post(this.url + 'login', params, { headers: headers });
    };
    UserService.prototype.getIdentity = function () {
        var identity = JSON.parse(localStorage.getItem('identity'));
        if (identity != "undefined") {
            this.identity = identity;
        }
        else {
            this.identity = null;
        }
        return this.identity;
    };
    UserService.prototype.getToken = function () {
        var token = JSON.parse(localStorage.getItem('token'));
        if (token != "undefined") {
            this.token = token;
        }
        else {
            this.token = null;
        }
        return this.token;
    };
    UserService.prototype.getStats = function () {
        var stats = JSON.parse(localStorage.getItem('stats'));
        if (stats != 'undefined') {
            this.stats = stats;
        }
        else {
            this.stats = null;
        }
        return this.stats;
    };
    UserService.prototype.getCounters = function (userId) {
        if (userId === void 0) { userId = null; }
        // pasamos ya el token del usuario
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', this.getToken());
        if (userId != null) {
            return this._http.get(this.url + 'counters/' + userId, { headers: headers });
        }
        else {
            return this._http.get(this.url + 'counters/', { headers: headers });
        }
    };
    UserService.prototype.updateUser = function (user) {
        var params = JSON.stringify(user);
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', this.getToken());
        return this._http.put(this.url + 'update-user/' + user._id, params, { headers: headers });
    };
    UserService.prototype.getUsers = function (page) {
        if (page === void 0) { page = null; }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', this.getToken());
        return this._http.get(this.url + 'users/' + page, { headers: headers });
    };
    UserService.prototype.getUser = function (id) {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', this.getToken());
        return this._http.get(this.url + 'user/' + id, { headers: headers });
    };
    UserService.prototype.getNotifications = function () {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', this.getToken());
        return this._http.get(this.url + 'notifications', { headers: headers });
    };
    UserService.prototype.setViewedNotification = function (id) {
        var params = JSON.parse('{\"id\": \"' + id + '\"}');
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["c" /* HttpHeaders */]().set('Content-Type', 'application/json').set('Authorization', this.getToken());
        return this._http.post(this.url + 'set-viewed-notification', params, { headers: headers });
    };
    UserService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */]])
    ], UserService);
    return UserService;
}());



/***/ }),

/***/ "./src/app/tournament/components/bracket/bracket.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\r\n  <div class=\"col-lg-8\">\r\n    <div class=\"panel panel-default\">\r\n      <div class=\"panel-heading\">Lista de partidos</div>\r\n      <div class=\"panel-body\">\r\n        <table class=\"table\">\r\n          <thead>\r\n              <tr>\r\n                  <th>Jugador</th>\r\n                  <th>Jugador</th>\r\n                  <th>Resultado</th>\r\n                  <th>Acciones</th>\r\n              </tr>\r\n          </thead>\r\n          <tbody>\r\n              <tr *ngFor=\"let match of matches; let i = index\" [ngClass]=\"{'table-warning': match.go_round == 0}\">\r\n                  <td [ngStyle]=\"{'font-weight': match.homeScore > match.awayScore ? 'bold' : 'normal'}\">\r\n                    <a href=\"perfil/{{match.home._id}}\" *ngIf=\"match.home\">{{match.home.nick}}</a>\r\n                    <span *ngIf=\"!match.home\">TBD</span>\r\n                  </td>\r\n                  <td [ngStyle]=\"{'font-weight': match.homeScore < match.awayScore ? 'bold' : 'normal'}\">\r\n                    <a href=\"perfil/{{match.away._id}}\" *ngIf=\"match.away\">{{match.away.nick}}</a>\r\n                    <span *ngIf=\"!match.away\">TBD</span>\r\n                  </td>\r\n                  <td *ngIf=\"!match.isEditable && match.status >= 4\">{{match.homeScore}} - {{match.awayScore}}</td>\r\n                  <td *ngIf=\"!match.isEditable && match.status < 4\"> - </td>\r\n                  <td *ngIf=\"match.isEditable\"><input type=\"text\" size=\"2\" [(ngModel)]=\"data.homeScore\"> - <input type=\"text\" size=\"2\" [(ngModel)]=\"data.awayScore\"></td>\r\n                  <th scope=\"row\">\r\n                    <a class=\"btn btn-xs btn-success\" href=\"tournament/{{tournament._id}}/match/{{match._id}}\"><i class=\"fa fa-search\"></i></a>\r\n                    <button class=\"btn btn-xs btn-success\" *ngIf=\"_parentComponent.manageTournament && !match.isEditable\" (click)=\"editRow(i)\">\r\n                      <i class=\"fa fa-pencil-square-o\"></i>\r\n                    </button>\r\n                    <button class=\"btn btn-xs btn-primary\" *ngIf=\"_parentComponent.manageTournament && match.isEditable\" (click)=\"saveRow(i)\" data-toggle=\"Guardar\">\r\n                      <i class=\"fa fa-floppy-o\"></i>\r\n                    </button>\r\n                    <button class=\"btn btn-xs btn-danger\" *ngIf=\"_parentComponent.manageTournament && match.isEditable\" (click)=\"cancelRow(i)\" data-toggle=\"Cancelar\">\r\n                      <i class=\"fa fa-times\"></i>\r\n                    </button>\r\n                  </th>\r\n              </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"col-lg-4\" *ngIf=\"tournament && tournament.type == 'swiss'\">\r\n    <div class=\"panel panel-default\">\r\n      <div class=\"panel-heading\" *ngIf=\"tournament\">Clasificación</div>\r\n      <div class=\"panel-body\">\r\n        <table class=\"table\">\r\n          <thead>\r\n              <tr>\r\n                  <th>Jugador</th>\r\n                  <th>Record</th>\r\n                  <th>Puntos</th>\r\n              </tr>\r\n          </thead>\r\n\r\n          <tbody>\r\n            <tr *ngFor=\"let participant of participants\">\r\n                <td><a href=\"perfil/{{participant.id}}\">{{participant.nick}}</a></td>\r\n                <td>{{participant.wins}} - {{participant.losses}}</td>\r\n                <td>{{participant.points}}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/tournament/components/bracket/bracket.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BracketComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_global__ = __webpack_require__("./src/app/services/global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_tournament_service__ = __webpack_require__("./src/app/services/tournament.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_match_service__ = __webpack_require__("./src/app/services/match.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__main_main_component__ = __webpack_require__("./src/app/tournament/components/main/main.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var BracketComponent = /** @class */ (function () {
    function BracketComponent(_route, _router, _userService, _tournamentService, _matchService, _parentComponent) {
        this._route = _route;
        this._router = _router;
        this._userService = _userService;
        this._tournamentService = _tournamentService;
        this._matchService = _matchService;
        this._parentComponent = _parentComponent;
        this.title = 'Resultados';
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
        this.url = __WEBPACK_IMPORTED_MODULE_2__services_global__["a" /* GLOBAL */].url;
        this.isBeingModified = false;
        //this.tournament = new Tournament();
    }
    BracketComponent.prototype.ngOnInit = function () {
        this.getTournament();
        this.getMatches();
        this.getStandings();
    };
    BracketComponent.prototype.getTournament = function () {
        var _this = this;
        this._tournamentService.getTournament(this.token, this._parentComponent.tournamentId).subscribe(function (response) {
            if (response.tournament) {
                _this.tournament = response.tournament;
            }
            else {
                _this.status = 'error';
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    BracketComponent.prototype.getMatches = function () {
        var _this = this;
        this._tournamentService.getMatches(this.token, this._parentComponent.tournamentId).subscribe(function (response) {
            if (response.matches) {
                console.log(response.matches);
                _this.matches = response.matches;
                _this.matches.map(function (row) {
                    row.isEditable = false;
                });
            }
            else {
                _this.status = 'error';
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    BracketComponent.prototype.getStandings = function () {
        var _this = this;
        this._tournamentService.getStandings(this.token, this._parentComponent.tournamentId).subscribe(function (response) {
            if (response.standings) {
                _this.participants = response.standings;
            }
            else {
                _this.status = 'error';
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    BracketComponent.prototype.editRow = function (row) {
        this.matches.map(function (row) {
            row.isEditable = false;
        });
        this.matches[row].isEditable = true;
        //copiamos por valor
        this.data = JSON.parse(JSON.stringify(this.matches[row]));
    };
    BracketComponent.prototype.saveRow = function (row) {
        var _this = this;
        this.matches[row].status = 4;
        //persistimos los cambios
        this._matchService.sendResult(this.token, this.data._id, this.data).subscribe(function (response) {
            if (!response.match) {
                _this.status = 'error';
            }
            else {
                _this.matches[row].homeScore = response.match.homeScore;
                _this.matches[row].awayScore = response.match.awayScore;
                _this.matches[row].status = response.match.status;
                _this._matchService.addChatMatch(_this.token, _this.matches[row]._id, 'El administrador ' + _this.identity.nick + ' ha enviado el resultado de ' + _this.data.homeScore + " - " + _this.data.awayScore, true).subscribe(function (response) {
                    if (response.chat) {
                        _this.status = 'success';
                        _this.matches[row].isEditable = false;
                    }
                }, function (error) {
                    var errorMessage = error;
                    if (errorMessage != null) {
                        _this.status = 'error';
                    }
                });
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    BracketComponent.prototype.cancelRow = function (row) {
        this.data = null;
        this.matches[row].isEditable = false;
    };
    BracketComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'bracket',
            template: __webpack_require__("./src/app/tournament/components/bracket/bracket.component.html"),
            providers: [__WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */], __WEBPACK_IMPORTED_MODULE_4__services_tournament_service__["a" /* TournamentService */], __WEBPACK_IMPORTED_MODULE_5__services_match_service__["a" /* MatchService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_4__services_tournament_service__["a" /* TournamentService */],
            __WEBPACK_IMPORTED_MODULE_5__services_match_service__["a" /* MatchService */],
            __WEBPACK_IMPORTED_MODULE_6__main_main_component__["a" /* MainComponent */]])
    ], BracketComponent);
    return BracketComponent;
}());



/***/ }),

/***/ "./src/app/tournament/components/decks/decks.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\" *ngIf=\"decks.length < tournament.decks\">\r\n  <div class=\"col-lg-6\">\r\n    <form #deckByCodeForm=\"ngForm\" (ngSubmit)=\"onSubmitDeck(deckByCodeForm)\">\r\n      <p>\r\n        <label>Nombre de mazo</label>\r\n  \t\t\t<input type=\"text\" id=\"name\" name=\"name\" #name=\"ngModel\" [(ngModel)]=\"deckName\" class=\"form-control\" required />\r\n  \t\t\t<span *ngIf=\"!name.valid && name.touched\">\r\n  \t\t\t\tEl nombre es obligatorio\r\n  \t\t\t</span>\r\n      </p>\r\n      <p>\r\n        <label>Código de mazo</label>\r\n        <textarea class=\"form-control\" id=\"code\" name=\"code\" #code=\"ngModel\" [(ngModel)]=\"deckCode\" rows=\"6\" (paste)=\"getDeckByCode($event.clipboardData.getData('text/plain'))\" placeholder='Copia tu mazo aquí'></textarea>\r\n        <span class=\"alert alert-danger\" *ngIf=\"status == 'error'\">\r\n      \t\tHa ocurrido un error con el código, por favor, asegúrate que es correcto.\r\n      \t</span>\r\n      </p>\r\n      <input type=\"submit\" value=\"Enviar\" class=\"btn btn-success\" [disabled]=\"!deckByCodeForm.form.valid || status == 'error'\" />\r\n    </form>\r\n\r\n  </div>\r\n  <div class=\"col-lg-6\">\r\n    <div *ngFor=\"let card of deckByCode.cards\">\r\n      <div class=\"card-list\">\r\n        <ul>\r\n          <li class=\"card-frame {{card.rarity}}-card \">\r\n            <span class=\"card-cost\">{{card.cost}}</span>\r\n            <span class=\"card-name\">{{card.name}}</span>\r\n            <span class=\"card-count\">{{card[1]}}</span>\r\n            <span class=\"card-image card-count-ex\">\r\n              <img src=\"https://art.hearthstonejson.com/v1/tiles/{{card.id}}.png\" height=\"40px\">\r\n            </span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<hr>\r\n<div class=\"row\">\r\n    <div class=\"col-sm\" *ngFor=\"let deck of decks\">\r\n      {{deck.name}}\r\n      <div *ngFor=\"let card of deck.deck.cards\">\r\n        <div class=\"card-list\">\r\n          <ul>\r\n            <li class=\"card-frame {{card.rarity}}-card \">\r\n              <span class=\"card-cost\">{{card.cost}}</span>\r\n              <span class=\"card-name\">{{card.name}}</span>\r\n              <span class=\"card-count\">{{card[1]}}</span>\r\n              <span class=\"card-image card-count-ex\">\r\n                <img src=\"https://art.hearthstonejson.com/v1/tiles/{{card.id}}.png\" height=\"40px\">\r\n              </span>\r\n      \t\t  </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/tournament/components/decks/decks.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DecksComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_deckstrings__ = __webpack_require__("./node_modules/deckstrings/dist/browser.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_deckstrings___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_deckstrings__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_global__ = __webpack_require__("./src/app/services/global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_tournament_service__ = __webpack_require__("./src/app/services/tournament.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__main_main_component__ = __webpack_require__("./src/app/tournament/components/main/main.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var DecksComponent = /** @class */ (function () {
    function DecksComponent(_http, _route, _router, _tournamentService, _userService, _parentComponent) {
        this._http = _http;
        this._route = _route;
        this._router = _router;
        this._tournamentService = _tournamentService;
        this._userService = _userService;
        this._parentComponent = _parentComponent;
        this.url = __WEBPACK_IMPORTED_MODULE_4__services_global__["a" /* GLOBAL */].url;
        this.token = this._userService.getToken();
        this.identity = this._userService.getIdentity();
        this.decks = [];
        this.total_cards_in_set = [];
        this.deckName = "";
        this.deckCode = "";
        this.deckByCode = [];
    }
    DecksComponent.prototype.ngOnInit = function () {
        this.getTournament();
        this.getCards();
    };
    DecksComponent.prototype.getDeckByCode = function (texto) {
        var _this = this;
        this.deckByCode = [];
        var myRegex = texto.replace(/^#.*\n?/gm, '');
        var decoded;
        this.status = '';
        try {
            decoded = Object(__WEBPACK_IMPORTED_MODULE_3_deckstrings__["decode"])(myRegex);
            decoded.cards.forEach(function (card) {
                var secondElement = _this.total_cards_in_set.find(function (item) {
                    return item.dbFid == card[0];
                });
                if (secondElement != null) {
                    card.id = secondElement.id;
                    card.name = secondElement.name;
                    card.cost = secondElement.cost;
                    card.rarity = secondElement.rarity;
                }
            });
            //console.log(decoded);
            decoded.cards.sort(this.compareValues("cost"));
            this.deckByCode = decoded;
        }
        catch (err) {
            this.status = 'error';
        }
    };
    DecksComponent.prototype.getCards = function () {
        var _this = this;
        var json_card_set = 'http://localhost:4200/assets/sobres/data/cards.collectible.json';
        this._http.get(json_card_set).subscribe(function (data) {
            data.forEach(function (card) {
                //Ensure only expert cards from packs are added to each array
                if (card.collectible == true) {
                    _this.total_cards_in_set.push({ dbFid: card.dbfId, id: card.id, name: card.name, cost: card.cost, rarity: card.rarity.toLowerCase() });
                }
            });
            _this._tournamentService.getParticipant(_this.token, _this._parentComponent.tournamentId, _this.identity._id).subscribe(function (response) {
                if (response.participant) {
                    //console.log(response.participant);
                    _this.decks = JSON.parse(response.participant.decks);
                    _this.decks.forEach(function (deckST) {
                        deckST.deck = Object(__WEBPACK_IMPORTED_MODULE_3_deckstrings__["decode"])(deckST.code);
                    });
                    //console.log(this.decks);
                    _this.decks.forEach(function (deck) {
                        deck.deck.cards.forEach(function (card) {
                            var secondElement = _this.total_cards_in_set.find(function (item) {
                                return item.dbFid == card[0];
                            });
                            if (secondElement != null) {
                                card.id = secondElement.id;
                                card.name = secondElement.name;
                                card.cost = secondElement.cost;
                                card.rarity = secondElement.rarity;
                            }
                        });
                        deck.deck.cards.sort(_this.compareValues("cost"));
                    });
                }
            }, function (error) {
                var errorMessage = error;
                if (errorMessage != null) {
                    _this.status = 'error';
                }
            });
        }, function (err) {
            console.log(err);
        });
    };
    // function for dynamic sorting
    DecksComponent.prototype.compareValues = function (key, order) {
        if (order === void 0) { order = 'asc'; }
        return function (a, b) {
            if (!a.hasOwnProperty(key) || !b.hasOwnProperty(key)) {
                // property doesn't exist on either object
                return 0;
            }
            var varA = (typeof a[key] === 'string') ?
                a[key].toUpperCase() : a[key];
            var varB = (typeof b[key] === 'string') ?
                b[key].toUpperCase() : b[key];
            var comparison = 0;
            if (varA > varB) {
                comparison = 1;
            }
            else if (varA < varB) {
                comparison = -1;
            }
            return ((order == 'desc') ? (comparison * -1) : comparison);
        };
    };
    /**
     * Function to sort alphabetically an array of objects by some specific key.
     *
     */
    DecksComponent.prototype.dynamicSort = function (property) {
        var sortOrder = 1;
        if (property[0] === "-") {
            sortOrder = -1;
            property = property.substr(1);
        }
        return function (a, b) {
            if (sortOrder == -1) {
                return b[property].localeCompare(a[property]);
            }
            else {
                return a[property].localeCompare(b[property]);
            }
        };
    };
    DecksComponent.prototype.getTournament = function () {
        var _this = this;
        this._tournamentService.getTournament(this.token, this._parentComponent.tournamentId).subscribe(function (response) {
            if (response.tournament) {
                _this.tournament = response.tournament;
            }
            else {
                _this.status = 'error';
            }
        }, function (error) {
            var errorMessage = error;
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    DecksComponent.prototype.onSubmitDeck = function (form, event) {
        var _this = this;
        //let textchat = (document.getElementById("textChat") as HTMLTextAreaElement).value;
        var name = document.getElementById("name").value;
        var deckCode = document.getElementById("code").value.replace(/^#.*\n?/gm, '');
        //quitamos el retorno de línea restante
        deckCode = deckCode.replace(/\n?/gm, '');
        if (deckCode.indexOf('/') > 0) {
            deckCode = deckCode.replace('/', '\\/');
        }
        this._tournamentService.addDeckTournament(this.token, this._parentComponent.tournamentId, name, deckCode).subscribe(function (response) {
            if (response.deck) {
                //console.log(response.deck);
                _this.decks.push({ name: response.deck.name, code: response.deck.code, deck: _this.deckByCode });
                form.reset();
                _this.deckByCode = [];
            }
        }, function (error) {
            var errorMessage = error;
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    DecksComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'decks',
            template: __webpack_require__("./src/app/tournament/components/decks/decks.component.html"),
            providers: [__WEBPACK_IMPORTED_MODULE_5__services_tournament_service__["a" /* TournamentService */], __WEBPACK_IMPORTED_MODULE_6__services_user_service__["a" /* UserService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_common_http__["a" /* HttpClient */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_5__services_tournament_service__["a" /* TournamentService */],
            __WEBPACK_IMPORTED_MODULE_6__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_7__main_main_component__["a" /* MainComponent */]])
    ], DecksComponent);
    return DecksComponent;
}());



/***/ }),

/***/ "./src/app/tournament/components/detail/detail.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\r\n  <div class=\"col-8\">\r\n    <h3>Chat de torneo</h3>\r\n    <div id=\"message-wrap\" class=\"message-wrap\">\r\n      <div id=\"msg-wrap\" class=\"msg-wrap\">\r\n          <div class=\"media msg\" *ngFor=\"let chat of chatHistory\">\r\n            <!--\r\n              <a class=\"pull-left\" href=\"#\">\r\n                  <img class=\"media-object\" data-src=\"holder.js/64x64\" alt=\"64x64\" style=\"width: 32px; height: 32px;\" src=\"#\">\r\n              </a>\r\n            -->\r\n              <div class=\"media-body\">\r\n                  <small class=\"pull-right time\"><i class=\"fa fa-clock-o\"></i> 12:10am</small>\r\n                  <h5 class=\"media-heading\">{{chat.user}}</h5>\r\n\r\n                  <small class=\"col-lg-10\">{{chat.text}}</small>\r\n              </div>\r\n          </div>\r\n      </div>\r\n      <form #newChatForm=\"ngForm\" (ngSubmit)=\"onSubmit(newChatForm, $event);\">\r\n        <div class=\"send-wrap\">\r\n            <textarea id=\"textChat\" class=\"form-control send-message\" rows=\"3\" placeholder=\"Write a reply...\"></textarea>\r\n        </div>\r\n        <div class=\"btn-panel\">\r\n            <!--<button class=\" col-lg-4 text-right btn   send-message-btn pull-right\" role=\"button\" (click)=\"addChatTournament()\"><i class=\"fa fa-plus\"></i> Send Message</button>-->\r\n            <input type=\"submit\" value=\"Enviar\" class=\"btn btn-success\" [disabled]=\"!newChatForm.form.valid\" />\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  <div class=\"col\">\r\n  \t<h3>Participantes</h3>\r\n  \t<ul class=\"list-group\">\r\n  \t  <li *ngFor=\"let participant of this._parentComponent._tournamentService.participants\" class=\"list-group-item d-flex justify-content-between align-items-center\">\r\n  \t    {{participant.user.nick}}\r\n  \t    <span *ngIf=\"participant.checkin\" class=\"glyphicon glyphicon-ok text-success\"></span>\r\n  \t\t\t<span *ngIf=\"!participant.checkin\" class=\"glyphicon glyphicon-remove text-warning\"></span>\r\n  \t  </li>\r\n  \t</ul>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/tournament/components/detail/detail.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DetailComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_global__ = __webpack_require__("./src/app/services/global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_tournament_service__ = __webpack_require__("./src/app/services/tournament.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__main_main_component__ = __webpack_require__("./src/app/tournament/components/main/main.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_socket_io_client__ = __webpack_require__("./node_modules/socket.io-client/lib/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_socket_io_client___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_socket_io_client__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var DetailComponent = /** @class */ (function () {
    function DetailComponent(_route, _router, _userService, _tournamentService, _parentComponent) {
        this._route = _route;
        this._router = _router;
        this._userService = _userService;
        this._tournamentService = _tournamentService;
        this._parentComponent = _parentComponent;
        this.title = 'Torneo';
        this.env = __WEBPACK_IMPORTED_MODULE_2__services_global__["a" /* GLOBAL */].env;
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
        this.url = __WEBPACK_IMPORTED_MODULE_2__services_global__["a" /* GLOBAL */].url;
        this.ws = true;
    }
    DetailComponent.prototype.ngOnInit = function () {
        var _this = this;
        var room = this._parentComponent.tournamentId;
        //console.log('detail.component cargado');
        //console.log('asdasd11 ' + this.tournamentIdFromParent);
        this.getTournament();
        if (this.ws) {
            //inicializamos el websocket para el chat
            console.log("|" + this.env + "|");
            if (this.env == 'DE') {
                this.socket = __WEBPACK_IMPORTED_MODULE_6_socket_io_client__('http://localhost:3800');
            }
            else {
                this.socket = __WEBPACK_IMPORTED_MODULE_6_socket_io_client__('https://roedor.net');
            }
            //var socket = io('http://localhost:3800/tournamentHS');
            this.socket.on('connectToRoom', function (room) {
                console.log(room);
            });
            this.socket.on('new-chat', function (chat) {
                _this.chatHistory.push(chat.chat);
                $('.msg-wrap').scrollTop($('.msg-wrap')[0].scrollHeight);
            });
        }
        $('.msg-wrap').scrollTop($('.msg-wrap')[0].scrollHeight);
    };
    DetailComponent.prototype.getTournament = function () {
        var _this = this;
        this._tournamentService.getTournament(this.token, this._parentComponent.tournamentId).subscribe(function (response) {
            if (response.tournament) {
                _this.tournament = response.tournament;
                _this.chatHistory = JSON.parse(_this.tournament.chat);
            }
            else {
                _this.status = 'error';
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    DetailComponent.prototype.onSubmit = function (form, event) {
        var _this = this;
        var textchat = document.getElementById("textChat").value;
        this._tournamentService.addChatTournament(this.token, this._parentComponent.tournamentId, textchat).subscribe(function (response) {
            if (response.chat) {
                _this.socket.emit('new-chat', response.chat);
                _this.chatHistory.push(response.chat);
                $('.msg-wrap').scrollTop($('.msg-wrap')[0].scrollHeight);
                //scroll automático con jquery
                //console.log(response.chat);
                //this._router.navigate(['/tournament/' + this._parentComponent.tournamentId + '/lobby']);
            }
        }, function (error) {
            var errorMessage = error;
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    DetailComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'detail',
            template: __webpack_require__("./src/app/tournament/components/detail/detail.component.html"),
            providers: [__WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */], __WEBPACK_IMPORTED_MODULE_4__services_tournament_service__["a" /* TournamentService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_4__services_tournament_service__["a" /* TournamentService */],
            __WEBPACK_IMPORTED_MODULE_5__main_main_component__["a" /* MainComponent */]])
    ], DetailComponent);
    return DetailComponent;
}());



/***/ }),

/***/ "./src/app/tournament/components/main/main.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"container-fluid\">\r\n\r\n  <div class=\"row\">\r\n    <!--<nav class=\"col-sm-3 col-md-2 hidden-xs-down bg-faded sidebar\">-->\r\n    <nav class=\"col-2\">\r\n  \t\t<div *ngIf=\"tournament && !tournament.active\">\r\n  \t\t\t<button class=\"btn btn-success\" *ngIf=\"!participant\" (click)=\"joinTournament()\">\r\n  \t\t\t\tUnirse\r\n  \t\t\t</button>\r\n  \t\t\t<button class=\"btn btn-success\" *ngIf=\"participant\" (click)=\"unjoinTournament()\">\r\n  \t\t\t\tDesapuntarse\r\n  \t\t\t</button>\r\n  \t\t\t<button class=\"btn btn-success\" *ngIf=\"participant && checkin\" (click)=\"unjoinTournament()\">\r\n  \t\t\t\tCheck-IN\r\n  \t\t\t</button>\r\n  \t\t</div>\r\n\r\n  \t\t<div class=\"sidebar-admin\">\r\n  \t\t\t<ul class=\"list-group\">\r\n  \t\t\t\t<li class=\"list-group-item list-group-item-action\" role=\"presentation\" [routerLinkActive]=\"['active']\">\r\n  \t\t\t\t\t<a [routerLink]=\"['lobby']\">Lobby</a>\r\n  \t\t\t\t</li>\r\n  \t\t\t\t<li class=\"list-group-item list-group-item-action\" role=\"presentation\" [routerLinkActive]=\"['active']\">\r\n  \t\t\t\t\t<a [routerLink]=\"['rules']\">Reglas</a>\r\n  \t\t\t\t</li>\r\n  \t\t\t\t<li class=\"list-group-item list-group-item-action\" role=\"presentation\" [routerLinkActive]=\"['active']\">\r\n  \t\t\t\t\t<a [routerLink]=\"['bracket']\">Bracket/Partidos</a>\r\n  \t\t\t\t</li>\r\n          <li class=\"list-group-item list-group-item-action\" role=\"presentation\" [routerLinkActive]=\"['active']\" *ngIf=\"participant && tournament.draft > 0\">\r\n  \t\t\t\t\t<a [routerLink]=\"['packs']\">Sobres <span class=\"badge badge-light\">{{_tournamentService.packs}}</span></a>\r\n  \t\t\t\t</li>\r\n          <li class=\"list-group-item list-group-item-action\" role=\"presentation\" [routerLinkActive]=\"['active']\" *ngIf=\"participant && tournament.decks > 0\">\r\n  \t\t\t\t\t<a [routerLink]=\"['decks']\">Mazos</a>\r\n  \t\t\t\t</li>\r\n          <!--\r\n  \t\t\t\t<li class=\"list-group-item\" role=\"presentation\" [routerLinkActive]=\"['active']\">\r\n  \t\t\t\t\t<a [routerLink]=\"['streams']\">Streams</a>\r\n  \t\t\t\t</li>\r\n          -->\r\n          <li class=\"list-group-item list-group-item-action list-group-item-warning\" *ngIf=\"manageTournament && tournament && !tournament.active\">\r\n            Pulsa el botón para generar los primeros partidos y dar comienzo al torneo <br />\r\n  \t\t\t\t\t<button type=\"button\" class=\"btn btn-success btn-lg\" (click)=\"startTournament()\">Comenzar</button>\r\n  \t\t\t\t</li>\r\n          <li class=\"list-group-item list-group-item-action list-group-item-warning\" *ngIf=\"manageTournament && tournament && tournament.active\">\r\n            Cuando no queden partidos pendientes de la jornada podemos generar la siguiente <br />\r\n  \t\t\t\t\t<button type=\"button\" class=\"btn btn-primary btn-lg\" (click)=\"nextRound()\" [disabled]=\"matchesLeftNextRound > 0\">Generar</button>\r\n  \t\t\t\t</li>\r\n  \t\t\t</ul>\r\n  \t\t</div>\r\n  \t</nav>\r\n\r\n\r\n\r\n    <div class=\"col\">\r\n      <div class=\"row\" *ngIf=\"manageTournament\">\r\n        <div class=\"alert alert-warning\" role=\"alert\">\r\n          Como administrador del torneo tienes acceso a las secciones amarillas para gestionarlo, así como editar resultados directamente en la tabla.\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"jumbotron jumbotron-fluid\">\r\n        <div class=\"container\" *ngIf=\"tournament\">\r\n          <h1 class=\"display-4\">{{tournament.name}}</h1>\r\n          <p class=\"lead\">BO{{tournament.bo}} con {{tournament.bans}} bans</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n\r\n  <div class=\"row\">\r\n    <div class=\"container-fluid\">\r\n      <router-outlet></router-outlet>\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/tournament/components/main/main.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MainComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_tournament_service__ = __webpack_require__("./src/app/services/tournament.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var MainComponent = /** @class */ (function () {
    function MainComponent(_route, _router, _userService, _tournamentService) {
        this._route = _route;
        this._router = _router;
        this._userService = _userService;
        this._tournamentService = _tournamentService;
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
        this.matchesLeftNextRound = 0;
        //this.tournament = new Tournament();
    }
    MainComponent.prototype.ngOnInit = function () {
        //console.log('main11.component cargado');
        this.actualTournament();
        this.getTournament();
        //comprobamos si está apuntado al torneo
        //this.isParticipant();
        this.getParticipant();
        this.isAdminTournament();
        //conseguimos los participantes actuales del torneos
        this.getParticipants();
    };
    MainComponent.prototype.getParticipants = function () {
        var _this = this;
        this._tournamentService.getParticipants(this.token, this.tournamentId).subscribe(function (response) {
            if (response.participants) {
                _this._tournamentService.participants = response.participants;
            }
        }, function (error) {
            var errorMessage = error;
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    MainComponent.prototype.getParticipant = function () {
        var _this = this;
        this._tournamentService.getParticipant(this.token, this.tournamentId, this.identity._id).subscribe(function (response) {
            if (response.participant) {
                _this.participant = response.participant;
                _this._tournamentService.packs = _this.participant.packs;
            }
        }, function (error) {
            var errorMessage = error;
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    MainComponent.prototype.getTournament = function () {
        var _this = this;
        this._tournamentService.getTournament(this.token, this.tournamentId).subscribe(function (response) {
            if (response.tournament) {
                _this.tournament = response.tournament;
            }
            else {
                _this.status = 'error';
            }
        }, function (error) {
            var errorMessage = error;
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    MainComponent.prototype.actualTournament = function () {
        var _this = this;
        this._route.params.subscribe(function (params) {
            var tournamentId;
            if (!params['id']) {
                tournamentId = '';
            }
            else {
                tournamentId = params['id'];
            }
            _this.tournamentId = tournamentId;
        });
    };
    MainComponent.prototype.isParticipant = function () {
        var _this = this;
        this._tournamentService.getIsJoined(this.token, this.tournamentId).subscribe(function (response) {
            if (response.joined == true) {
                //this.participant = true;
            }
        }, function (error) {
            var errorMessage = error;
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    MainComponent.prototype.joinTournament = function () {
        var _this = this;
        this._tournamentService.joinTournament(this.token, this.tournamentId).subscribe(function (response) {
            if (response.participant) {
                _this.status = 'success';
                _this.participant = response.participant;
                //this.refresh();
                _this.getParticipants();
            }
            else {
                _this.status = 'error';
            }
        }, function (error) {
            var errorMessage = error;
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    MainComponent.prototype.unjoinTournament = function () {
        var _this = this;
        this._tournamentService.unjoinTournament(this.token, this.tournamentId).subscribe(function (response) {
            if (response.participant) {
                _this.status = 'success';
                _this.participant = null;
                //actualizamos el participants
                _this.getParticipants();
            }
            else {
                _this.status = 'error';
            }
        }, function (error) {
            var errorMessage = error;
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    MainComponent.prototype.isAdminTournament = function () {
        var _this = this;
        this._tournamentService.getIsAdminTournament(this.token, this.tournamentId).subscribe(function (response) {
            if (response.isAdminTournament == true) {
                _this.manageTournament = true;
                //solo admin torneo, comprobamos si quedan partidos por disputarse de la ronda activa, para desactivar el botón de Siguiente Ronda
                _this.getMatchesLeft();
            }
        }, function (error) {
            var errorMessage = error;
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    MainComponent.prototype.startTournament = function () {
        var _this = this;
        this._tournamentService.startTournament(this.token, this.tournamentId).subscribe(function (response) {
            if (response) {
                _this.status = 'success';
                _this.tournament.active = true;
                //this.actualRound = 1;
                //TODO debería llevarte a /bracket sin click?
            }
            else {
                _this.status = 'error';
            }
        }, function (error) {
            var errorMessage = error;
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    MainComponent.prototype.nextRound = function () {
        var _this = this;
        this._tournamentService.nextRound(this.token, this.tournamentId).subscribe(function (response) {
            if (response) {
                _this.status = 'success';
                //this.actualRound = response.round;
            }
            else {
                _this.status = 'error';
            }
        }, function (error) {
            var errorMessage = error;
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    MainComponent.prototype.getMatchesLeft = function () {
        var _this = this;
        if (this.manageTournament) {
            this._tournamentService.getMatches(this.token, this.tournamentId).subscribe(function (response) {
                if (response.matches) {
                    response.matches.map(function (row) {
                        if (row.status < 4) {
                            _this.matchesLeftNextRound++;
                        }
                    });
                }
            }, function (error) {
                var errorMessage = error;
                if (errorMessage != null) {
                    _this.status = 'error';
                }
            });
        }
    };
    MainComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'main',
            template: __webpack_require__("./src/app/tournament/components/main/main.component.html"),
            providers: [__WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */], __WEBPACK_IMPORTED_MODULE_2__services_tournament_service__["a" /* TournamentService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_2__services_tournament_service__["a" /* TournamentService */]])
    ], MainComponent);
    return MainComponent;
}());



/***/ }),

/***/ "./src/app/tournament/components/match/match.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"col-lg-6\">\r\n\r\n  <div class=\"card\">\r\n    <div class=\"card-block p-1\">\r\n      <b><span><span>Round 1</span></span></b>\r\n      <span><span>Best Of 3</span></span>\r\n    </div>\r\n    <div class=\"card-header alert-info\" *ngIf=\"match && match.status == 5\"><strong><span>Default Win</span></strong></div>\r\n  </div>\r\n\r\n  <div class=\"tab-content\" id=\"pills-tabContent\" *ngIf=\"match\">\r\n    <ul class=\"nav nav-pills mb-3\" id=\"pills-tab\" role=\"tablist\">\r\n      <li class=\"nav-item disabled\" [ngClass]=\"{'active': match.status==0}\">\r\n        <a class=\"nav-link\" id=\"pills-checkin-tab\" data-toggle=\"pill\" href=\"#pills-checkin\" role=\"tab\" aria-controls=\"pills-checkin\" aria-selected=\"true\">Fase Check-IN</a>\r\n      </li>\r\n      <li class=\"nav-item disabled\" [ngClass]=\"{'active': match.status==1}\">\r\n        <a class=\"nav-link\" id=\"pills-clases-tab\" data-toggle=\"pill\" href=\"#pills-clases\" role=\"tab\" aria-controls=\"pills-clases\" aria-selected=\"false\">Fase Clases</a>\r\n      </li>\r\n      <li class=\"nav-item disabled\" [ngClass]=\"{'active': match.status==2}\">\r\n        <a class=\"nav-link\" id=\"pills-bans-tab\" data-toggle=\"pill\" href=\"#pills-bans\" role=\"tab\" aria-controls=\"pills-bans\" aria-selected=\"false\">Fase Baneos</a>\r\n      </li>\r\n      <li class=\"nav-item disabled\" [ngClass]=\"{'active': match.status>=3}\">\r\n        <a class=\"nav-link\" id=\"pills-result-tab\" data-toggle=\"pill\" href=\"#pills-result\" role=\"tab\" aria-controls=\"pills-result\" aria-selected=\"false\">Fase Resultado</a>\r\n      </li>\r\n    </ul>\r\n\r\n    <div class=\"tab-pane show active\" id=\"pills-checkin\" role=\"tabpanel\" aria-labelledby=\"pills-checkin-tab\" *ngIf=\"match && match.status == 0\">\r\n\r\n      <div class=\"alert alert-success\" role=\"alert\" *ngIf=\"match.homeAccept\">\r\n        {{match.home.nick}} ha aceptado el partido.\r\n      </div>\r\n      <div class=\"alert alert-danger\" role=\"alert\" *ngIf=\"!match.homeAccept\">\r\n        {{match.home.nick}} todavía no ha aceptado el partido.\r\n      </div>\r\n      <div class=\"alert alert-success\" role=\"alert\" *ngIf=\"match.awayAccept\">\r\n        {{match.away.nick}} ha aceptado el partido.\r\n      </div>\r\n      <div class=\"alert alert-danger\" role=\"alert\" *ngIf=\"!match.awayAccept\">\r\n        {{match.away.nick}} todavía no ha aceptado el partido.\r\n      </div>\r\n\r\n      <button type=\"button\" class=\"btn btn-primary btn-lg btn-block\" *ngIf=\"(identity._id == match.home._id && !match.homeAccept) || (identity._id == match.away._id && !match.awayAccept)\" (click)=\"confirmMatch()\">HACER CHECK-IN</button>\r\n    </div>\r\n\r\n    <div class=\"tab-pane show active\" id=\"pills-clases\" role=\"tabpanel\" aria-labelledby=\"pills-clases-tab\" *ngIf=\"match && match.status == 1\">\r\n      <form #checkClassesForm=\"ngForm\" (submit)=\"sendClasses()\">\r\n        <div class=\"col-md-2\" *ngFor=\"let class of classes\">\r\n          <img src=\"/assets/images/{{class.name}}.png\" alt=\"{{class.name}}\" class=\"img-thumbnail img-check\" width=\"60\" />\r\n          <input type=\"checkbox\" name=\"{{class.name}}\" id=\"chkClasses\" value=\"val1\" [(ngModel)]=\"class.checked\" [disabled]=\"countClasses == match.tournament.bo\" (change)=\"changed()\" />\r\n        </div>\r\n        <input type=\"submit\" id=\"submitClasses\" class=\"btn btn-success btn-lg btn-block\" disabled value=\"ENVIAR CLASES\" />\r\n      </form>\r\n    </div>\r\n\r\n    <div class=\"tab-pane show active\" id=\"pills-bans\" role=\"tabpanel\" aria-labelledby=\"pills-bans-tab\" *ngIf=\"match && match.status == 2\">\r\n      <form #checkBansForm=\"ngForm\" (submit)=\"sendBans()\">\r\n        <div class=\"col-md-2\" *ngFor=\"let class of opponentClasses\">\r\n          <img src=\"/assets/images/{{class.name}}.png\" alt=\"{{class.name}}\" class=\"img-thumbnail img-check\" width=\"60\" />\r\n          <input type=\"checkbox\" name=\"{{class.name}}\" id=\"chkClasses\" value=\"val1\" [(ngModel)]=\"class.checked\" [disabled]=\"countBans == match.tournament.bans\" (change)=\"bansChanged()\" />\r\n        </div>\r\n        <input type=\"submit\" id=\"submitClasses\" class=\"btn btn-success btn-lg btn-block\" disabled value=\"ENVIAR BANEOS\" />\r\n      </form>\r\n    </div>\r\n\r\n    <div class=\"tab-pane show active\" id=\"pills-result\" role=\"tabpanel\" aria-labelledby=\"pills-result-tab\" *ngIf=\"match && match.status >= 3\">\r\n\r\n      <div class=\"row\">\r\n          <div class=\"col-md-6\">\r\n            <div class=\"card card-cascade narrower\">\r\n                <div class=\"view gradient-card-header purple-gradient\">\r\n                    <h2 class=\"h2-responsive\"><a href=\"/perfil/{{match.home._id}}\">{{match.home.nick}}</a></h2>\r\n                    <p>{{match.home.battletag}}</p>\r\n                    <div class=\"text-center\">\r\n                      <div class=\"col-md-6\" *ngFor=\"let class of homeClassesFinal\">\r\n                        <img src=\"/assets/images/{{class}}.png\" alt=\"{{class}}\" class=\"img-thumbnail img-check\" width=\"40\" />\r\n                      </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"card-body text-center\" *ngIf=\"match.status > 3\">\r\n                    <div class=\"card-text\">\r\n                      <h1 class=\"font-weight-bold\">{{match.homeScore}}</h1>\r\n                      <span class=\"badge badge-danger\" *ngIf=\"match.homeScore < match.awayScore\">Loss</span>\r\n                      <span class=\"badge badge-success\" *ngIf=\"match.homeScore > match.awayScore\">Win</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-6\">\r\n            <div class=\"card card-cascade narrower\">\r\n                <div class=\"view gradient-card-header purple-gradient\">\r\n                    <h2 class=\"h2-responsive\"><a href=\"/perfil/{{match.away._id}}\">{{match.away.nick}}</a></h2>\r\n                    <p>{{match.away.battletag}}</p>\r\n                    <div class=\"text-center\">\r\n                      <div class=\"col-md-6\" *ngFor=\"let class of awayClassesFinal\">\r\n                        <img src=\"/assets/images/{{class}}.png\" alt=\"{{class}}\" class=\"img-thumbnail img-check\" width=\"40\" />\r\n                      </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"card-body text-center\" *ngIf=\"match.status > 3\">\r\n                    <div class=\"card-text\">\r\n                      <h1 class=\"font-weight-bold\">{{match.awayScore}}</h1>\r\n                      <span class=\"badge badge-danger\" *ngIf=\"match.awayScore < match.homeScore\">Loss</span>\r\n                      <span class=\"badge badge-success\" *ngIf=\"match.awayScore > match.homeScore\">Win</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"row\" *ngIf=\"match.status == 3\">\r\n          <form #resultForm=\"ngForm\" (ngSubmit)=\"sendResult(newChatForm, $event);\">\r\n            <div class=\"col-md-6\">\r\n              <input type=\"text\" name=\"homeScore\" #homeScore=\"ngModel\" [(ngModel)]=\"match.homeScore\" class=\"form-control\" required />\r\n            </div>\r\n\r\n            <div class=\"col-md-6\">\r\n              <input type=\"text\" name=\"awayScore\" #awayScore=\"ngModel\" [(ngModel)]=\"match.awayScore\" class=\"form-control\" required />\r\n            </div>\r\n\r\n            <input type=\"submit\" value=\"Enviar resultado\" class=\"btn btn-warning\" [disabled]=\"!resultForm.form.valid\" />\r\n\r\n          </form>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"col-lg-6\">\r\n  <div id=\"message-wrap\" class=\"message-wrap\">\r\n    <div id=\"msg-wrap\" class=\"msg-wrap\">\r\n        <div class=\"media msg\" *ngFor=\"let chat of chatHistory\">\r\n          <!--\r\n            <a class=\"pull-left\" href=\"#\">\r\n                <img class=\"media-object\" data-src=\"holder.js/64x64\" alt=\"64x64\" style=\"width: 32px; height: 32px;\" src=\"#\">\r\n            </a>\r\n          -->\r\n            <div class=\"media-body\">\r\n                <small class=\"pull-right time\"><i class=\"fa fa-clock-o\"></i> 12:10am</small>\r\n                <h5 class=\"media-heading\">{{chat.user}}</h5>\r\n\r\n                <small class=\"col-lg-10\">{{chat.text}}</small>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <form #newChatForm=\"ngForm\" (ngSubmit)=\"onSubmit(newChatForm, $event);\">\r\n      <div class=\"send-wrap\">\r\n          <textarea id=\"textChat\" class=\"form-control send-message\" rows=\"3\" placeholder=\"Write a reply...\"></textarea>\r\n      </div>\r\n      <div class=\"btn-panel\">\r\n          <!--<button class=\" col-lg-4 text-right btn   send-message-btn pull-right\" role=\"button\" (click)=\"addChatTournament()\"><i class=\"fa fa-plus\"></i> Send Message</button>-->\r\n          <input type=\"submit\" value=\"Enviar\" class=\"btn btn-success\" [disabled]=\"!newChatForm.form.valid\" />\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/tournament/components/match/match.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MatchComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_global__ = __webpack_require__("./src/app/services/global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_tournament_service__ = __webpack_require__("./src/app/services/tournament.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_match_service__ = __webpack_require__("./src/app/services/match.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__main_main_component__ = __webpack_require__("./src/app/tournament/components/main/main.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__app_component__ = __webpack_require__("./src/app/app.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_socket_io_client__ = __webpack_require__("./node_modules/socket.io-client/lib/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_socket_io_client___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_socket_io_client__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var MatchComponent = /** @class */ (function () {
    function MatchComponent(_route, _router, _userService, _tournamentService, _matchService, _parentComponent, _appComponent) {
        this._route = _route;
        this._router = _router;
        this._userService = _userService;
        this._tournamentService = _tournamentService;
        this._matchService = _matchService;
        this._parentComponent = _parentComponent;
        this._appComponent = _appComponent;
        this.title = 'Partido';
        this.env = __WEBPACK_IMPORTED_MODULE_2__services_global__["a" /* GLOBAL */].env;
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
        this.url = __WEBPACK_IMPORTED_MODULE_2__services_global__["a" /* GLOBAL */].url;
        this.ws = true;
        this.classes = [{ "name": "brujo" },
            { "name": "cazador" },
            { "name": "chaman" },
            { "name": "druida" },
            { "name": "guerrero" },
            { "name": "mago" },
            { "name": "paladin" },
            { "name": "picaro" },
            { "name": "sacerdote" }
        ];
        this.classes.forEach(function (item) {
            item['checked'] = false;
        });
        this.countClasses = 0;
        this.countBans = 0;
        this.opponentClasses = [];
        this.homeClassesFinal = [];
        this.awayClassesFinal = [];
        this.chatHistory = [];
    }
    MatchComponent.prototype.ngOnInit = function () {
        var _this = this;
        var room = this.matchId;
        this.actualMatch();
        this.getMatch();
        if (this.ws) {
            //inicializamos el websocket para el chat
            if (this.env == 'DE') {
                this.socket = __WEBPACK_IMPORTED_MODULE_8_socket_io_client__('http://localhost:3800');
            }
            else {
                this.socket = __WEBPACK_IMPORTED_MODULE_8_socket_io_client__('https://roedor.net');
            }
            //var socket = io('http://localhost:3800/tournamentHS');
            this.socket.on('connectToRoom', function (room) {
                console.log(room);
            });
            this.socket.on('new-chat', function (chat) {
                _this.chatHistory.push(chat.chat);
                $('.msg-wrap').scrollTop($('.msg-wrap')[0].scrollHeight);
            });
            this.socket.on('opponent-confirm', function () {
                if (_this.identity._id == _this.match.home._id) {
                    _this.match.awayAccept = true;
                }
                else {
                    _this.match.homeAccept = true;
                }
                //si el contrincante confirma el segundo, habrá que cambiar el status también
                if (_this.match.homeAccept && _this.match.awayAccept) {
                    _this.getMatch();
                }
            });
            this.socket.on('opponent-classes', function () {
                if (_this.match.status == 2) {
                    _this.getMatch();
                }
            });
            this.socket.on('opponent-bans', function () {
                if (_this.match.status == 3) {
                    _this.getMatch();
                }
            });
            this.socket.on('new-notification', function (type_notification) {
                console.log("Me llega una " + type_notification);
                _this._appComponent.notificationCount = 1;
                _this._appComponent.notifications.push();
            });
        }
        $('.msg-wrap').scrollTop($('.msg-wrap')[0].scrollHeight);
    };
    MatchComponent.prototype.getMatch = function () {
        var _this = this;
        this._matchService.getMatch(this.token, this.matchId).subscribe(function (response) {
            if (response.match) {
                var metadata_1 = {};
                _this.match = response.match;
                if (_this.match.chat) {
                    _this.chatHistory = JSON.parse(_this.match.chat);
                }
                if (_this.match.metadata) {
                    metadata_1 = JSON.parse(_this.match.metadata);
                }
                //console.log(this.match.metadata);
                //según sea home o away, tildamos los checks
                if (_this.match.status >= 3) {
                    //pillamos las clases finales de cada uno
                    for (var key in metadata_1.homeClassesFinal) {
                        _this.homeClassesFinal.push(metadata_1.homeClassesFinal[key]);
                    }
                    for (var key in metadata_1.awayClassesFinal) {
                        _this.awayClassesFinal.push(metadata_1.awayClassesFinal[key]);
                    }
                }
                else if (_this.identity._id == _this.match.home._id) {
                    //home
                    if (metadata_1.homeClasses && !metadata_1.homeClassesBan) {
                        _this.classes.forEach(function (item) {
                            if (Object.values(metadata_1.homeClasses).includes(item.name)) {
                                item['checked'] = true;
                                _this.countClasses++;
                            }
                            //$('input[ng-reflect-name^=' + item.name + ']').prop('disabled', true);
                        });
                        if (metadata_1.awayClasses) {
                            for (var key in metadata_1.awayClasses) {
                                _this.opponentClasses.push({ "name": metadata_1.awayClasses[key], "checked": false });
                            }
                        }
                    }
                }
                else {
                    //away
                    if (metadata_1.awayClasses && !metadata_1.awayClassesBan) {
                        _this.classes.forEach(function (item) {
                            if (Object.values(metadata_1.awayClasses).includes(item.name)) {
                                item['checked'] = true;
                                _this.countClasses++;
                            }
                            //$('input[ng-reflect-name^=' + item.name + ']').prop('disabled', true);
                        });
                        if (metadata_1.homeClasses) {
                            for (var key in metadata_1.homeClasses) {
                                _this.opponentClasses.push({ "name": metadata_1.homeClasses[key], "checked": false });
                            }
                        }
                    }
                }
            }
            else {
                _this.status = 'error';
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    MatchComponent.prototype.confirmMatch = function () {
        var _this = this;
        this._matchService.confirmMatch(this.token, this.matchId).subscribe(function (response) {
            if (response) {
                _this.match = response.match;
                //lanzar el OK al ws del partido
                _this.socket.emit('opponent-confirm');
                _this._matchService.addChatMatch(_this.token, _this.matchId, 'El usuario ' + _this.identity.nick + ' ha aceptado el partido.', true).subscribe(function (response) {
                    if (response.chat) {
                        _this.status = 'success';
                        _this.socket.emit('new-chat', response.chat);
                        _this.chatHistory.push(response.chat);
                        $('.msg-wrap').scrollTop($('.msg-wrap')[0].scrollHeight);
                        //si somos el segundo en aceptar el partido, recargamos
                        if (_this.match.homeAccept && _this.match.awayAccept) {
                            _this.getMatch();
                        }
                    }
                }, function (error) {
                    var errorMessage = error;
                    if (errorMessage != null) {
                        _this.status = 'error';
                    }
                });
            }
            else {
                _this.status = 'error';
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    MatchComponent.prototype.actualMatch = function () {
        var _this = this;
        this._route.params.subscribe(function (params) {
            var matchId;
            if (!params['match']) {
                matchId = '';
            }
            else {
                matchId = params['match'];
            }
            _this.matchId = matchId;
        });
    };
    MatchComponent.prototype.changed = function () {
        var _this = this;
        this.countClasses = 0;
        this.classes.forEach(function (item) {
            if (item.checked) {
                _this.countClasses++;
            }
        });
        //desactivamos los checks si ha seleccionado ya suficientes
        if (this.countClasses == this.match.tournament.bo) {
            $('#submitClasses').prop('disabled', false);
            this.classes.forEach(function (item) {
                if (!item.checked) {
                    $('input[ng-reflect-name^=' + item.name + ']').prop('disabled', true);
                }
            });
        }
        else {
            this.classes.forEach(function (item) {
                $('input[ng-reflect-name^=' + item.name + ']').prop('disabled', false);
            });
        }
    };
    MatchComponent.prototype.bansChanged = function () {
        var _this = this;
        this.countBans = 0;
        this.opponentClasses.forEach(function (item) {
            if (item.checked) {
                _this.countBans++;
            }
        });
        //desactivamos los checks si ha seleccionado ya suficientes
        if (this.countBans == this.match.tournament.bans) {
            $('#submitClasses').prop('disabled', false);
            this.classes.forEach(function (item) {
                if (!item.checked) {
                    $('input[ng-reflect-name^=' + item.name + ']').prop('disabled', true);
                }
            });
        }
        else {
            this.classes.forEach(function (item) {
                $('input[ng-reflect-name^=' + item.name + ']').prop('disabled', false);
            });
        }
    };
    MatchComponent.prototype.onSubmit = function (form, event) {
        var _this = this;
        var textchat = document.getElementById("textChat").value;
        this._matchService.addChatMatch(this.token, this.matchId, textchat).subscribe(function (response) {
            if (response.chat) {
                _this.socket.emit('new-chat', response.chat);
                _this.chatHistory.push(response.chat);
                $('.msg-wrap').scrollTop($('.msg-wrap')[0].scrollHeight);
                //scroll automático con jquery
                //console.log(response.chat);
                //this._router.navigate(['/tournament/' + this._parentComponent.tournamentId + '/lobby']);
                //notificamos al adversario por si está en línea
                _this.socket.emit('new-notification', 'new_chat_match');
            }
        }, function (error) {
            var errorMessage = error;
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    MatchComponent.prototype.sendClasses = function () {
        var _this = this;
        var classesSelect = {};
        //this.classes.forEach(item => {
        this.classes.forEach(function (item, i) {
            if (item.checked) {
                classesSelect[i] = item.name;
            }
        });
        //console.log(classesSelect);
        this._matchService.classesSelect(this.token, this.matchId, classesSelect).subscribe(function (response) {
            if (response) {
                _this.match = response.match;
                //deshabilitamos todo y escondemos botón
                _this.classes.forEach(function (item) {
                    $('input[ng-reflect-name^=' + item.name + ']').prop('disabled', true);
                    $('#submitClasses').hide();
                });
                _this.socket.emit('opponent-classes');
                _this.getMatch();
                _this._matchService.addChatMatch(_this.token, _this.matchId, 'El usuario ' + _this.identity.nick + ' ha seleccionado sus clases', true).subscribe(function (response) {
                    if (response.chat) {
                        _this.status = 'success';
                        _this.socket.emit('new-chat', response.chat);
                        _this.chatHistory.push(response.chat);
                        $('.msg-wrap').scrollTop($('.msg-wrap')[0].scrollHeight);
                    }
                }, function (error) {
                    var errorMessage = error;
                    if (errorMessage != null) {
                        _this.status = 'error';
                    }
                });
            }
        }, function (error) {
            var errorMessage = error;
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    MatchComponent.prototype.sendBans = function () {
        var _this = this;
        var classesBans = {};
        this.opponentClasses.forEach(function (item, i) {
            if (item.checked) {
                classesBans[i] = item.name;
            }
        });
        this._matchService.classesBan(this.token, this.matchId, classesBans).subscribe(function (response) {
            if (response) {
                _this.match = response.match;
                /*
                                    if(this.identity._id == this.match.home._id){
                                        this.opponentClasses = JSON.parse(this.match.metadata.awayClassesBan);
                                        this.opponentClasses.forEach(item => {
                                      item['checked']=false;
                                    });
                                    }else{
                                        this.opponentClasses = JSON.parse(this.match.metadata.homeClassesBan);
                                        this.opponentClasses.forEach(item => {
                                      item['checked']=false;
                                    });
                                    }
                */
                //deshabilitamos todo y escondemos botón
                _this.socket.emit('opponent-bans');
                _this.getMatch();
                _this._matchService.addChatMatch(_this.token, _this.matchId, 'El usuario ' + _this.identity.nick + ' ha baneado las clases del oponente', true).subscribe(function (response) {
                    if (response.chat) {
                        _this.status = 'success';
                        _this.socket.emit('new-chat', response.chat);
                        _this.chatHistory.push(response.chat);
                        $('.msg-wrap').scrollTop($('.msg-wrap')[0].scrollHeight);
                    }
                }, function (error) {
                    var errorMessage = error;
                    if (errorMessage != null) {
                        _this.status = 'error';
                    }
                });
            }
        }, function (error) {
            var errorMessage = error;
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    MatchComponent.prototype.sendResult = function () {
        var _this = this;
        //console.log(this.match);
        this._matchService.sendResult(this.token, this.matchId, this.match).subscribe(function (response) {
            if (!response.match) {
                _this.status = 'error';
            }
            else {
                _this.match.status = response.match.status;
                _this._matchService.addChatMatch(_this.token, _this.matchId, 'El usuario ' + _this.identity.nick + ' ha enviado el resultado de ' + _this.match.homeScore + " - " + _this.match.awayScore, true).subscribe(function (response) {
                    if (response.chat) {
                        _this.status = 'success';
                        _this.socket.emit('new-chat', response.chat);
                        _this.chatHistory.push(response.chat);
                        $('.msg-wrap').scrollTop($('.msg-wrap')[0].scrollHeight);
                        //scroll automático con jquery
                        //console.log(response.chat);
                        //this._router.navigate(['/tournament/' + this._parentComponent.tournamentId + '/lobby']);
                    }
                }, function (error) {
                    var errorMessage = error;
                    if (errorMessage != null) {
                        _this.status = 'error';
                    }
                });
            }
        }, function (error) {
            var errorMessage = error;
            console.log(errorMessage);
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    MatchComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'match',
            template: __webpack_require__("./src/app/tournament/components/match/match.component.html"),
            providers: [__WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */], __WEBPACK_IMPORTED_MODULE_4__services_tournament_service__["a" /* TournamentService */], __WEBPACK_IMPORTED_MODULE_5__services_match_service__["a" /* MatchService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_4__services_tournament_service__["a" /* TournamentService */],
            __WEBPACK_IMPORTED_MODULE_5__services_match_service__["a" /* MatchService */],
            __WEBPACK_IMPORTED_MODULE_6__main_main_component__["a" /* MainComponent */],
            __WEBPACK_IMPORTED_MODULE_7__app_component__["a" /* AppComponent */]])
    ], MatchComponent);
    return MatchComponent;
}());



/***/ }),

/***/ "./src/app/tournament/components/packs/packs.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\r\n\t<div class=\"col-md-10\">\r\n\t\t<div class=\"row\">\r\n\t\t\t<div *ngIf=\"_tournamentService.packs > 0\">\r\n\t\t\t\t<div class=\"alert alert-info alert-dismissable\">\r\n            <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-hidden=\"true\">×</button>\r\n          \t<b>Te restan {{_tournamentService.packs}} sobres.</b>\r\n        </div>\r\n\t\t\t\t<button type=\"button\" class=\"btn btn-danger btn-lg\" id=\"newPack\" (click)=\"openPack()\">ABRIR SOBRE</button>\r\n\r\n\t\t\t\t<div class=\"pack\">\r\n\t\t\t\t\t<div class=\"cardPack fechado common\" style=\"display:none;\" (mousedown)=\"clickCard()\">\r\n\t\t\t\t\t\t<div class=\"card_glow\"></div>\r\n\t\t\t\t    <div class=\"back\"></div>\r\n\t\t\t\t    <div class=\"front\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"cardPack fechado common\" style=\"display:none;\" (mousedown)=\"clickCard()\">\r\n\t\t\t\t\t\t<div class=\"card_glow\" style=\"box-shadow: none; -webkit-transition: box-shadow 600ms; transition: box-shadow 600ms;\"></div>\r\n\t\t\t\t    <div class=\"back\"></div>\r\n\t\t\t\t    <div class=\"front\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"cardPack fechado common\" style=\"display:none;\" (mousedown)=\"clickCard()\">\r\n\t\t\t\t\t\t<div class=\"card_glow\" style=\"box-shadow: none; -webkit-transition: box-shadow 600ms; transition: box-shadow 600ms;\"></div>\r\n\t\t\t\t    <div class=\"back\"></div>\r\n\t\t\t\t    <div class=\"front\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"cardPack fechado common\" style=\"display:none;\" (mousedown)=\"clickCard()\">\r\n\t\t\t\t\t\t<div class=\"card_glow\" style=\"box-shadow: none; -webkit-transition: box-shadow 600ms; transition: box-shadow 600ms;\"></div>\r\n\t\t\t\t    <div class=\"back\"></div>\r\n\t\t\t\t    <div class=\"front\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"cardPack fechado rare\" style=\"display:none;\" (mousedown)=\"clickCard()\">\r\n\t\t\t\t\t\t<div class=\"card_glow\" style=\"box-shadow: none; -webkit-transition: box-shadow 600ms; transition: box-shadow 600ms;\"></div>\r\n\t\t\t\t    <div class=\"back\"></div>\r\n\t\t\t\t    <div class=\"front\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div *ngIf=\"packs == 0\">\r\n\t\t\t\t<div class=\"alert alert-info alert-dismissable\">\r\n\t          <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-hidden=\"true\">×</button>\r\n\t        \t<b>Ojalá hayas tenido una buena apertura</b> Por favor, env&iacute;a tus c&oacute;digos de mazo a info@roedor.net\r\n\t      </div>\r\n\t\t\t\t<ul class=\"list-group\">\r\n\t\t\t\t  <li class=\"list-group-item\">Cras justo odio</li>\r\n\t\t\t\t  <li class=\"list-group-item\">Dapibus ac facilisis in</li>\r\n\t\t\t\t  <li class=\"list-group-item\">Morbi leo risus</li>\r\n\t\t\t\t  <li class=\"list-group-item\">Porta ac consectetur ac</li>\r\n\t\t\t\t  <li class=\"list-group-item\">Vestibulum at eros</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\r\n<!--\r\n\t\t<div class=\"row\">\r\n\t\t\t{% for deck in decks_user %}\r\n\t\t\t  {{deck.deck}}\r\n\t\t\t{% endfor %}\r\n\r\n\t\t\t<br />\r\n\t\t\tOJETE<br />\r\n\t\t\t{{str}}\r\n\t\t</div>\r\n\t</div>\r\n-->\r\n\t</div>\r\n</div>\r\n\r\n<div class=\"row text-center\">\r\n\t<div class=\"col-xs-2\" *ngFor=\"let card of json_cards_pool\">\r\n\t<figure>\r\n\t\t<img src=\"https://art.hearthstonejson.com/v1/render/latest/enUS/256x/{{card.id}}.png\" width=\"128px\"/>\r\n\t\t<figcaption><h4>x{{card.quantity}}</h4></figcaption>\r\n\t</figure>\r\n\t</div>\r\n</div>\r\n\r\n<div class=\"row\">\r\n\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/tournament/components/packs/packs.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PacksComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__("./node_modules/@angular/common/esm5/http.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_global__ = __webpack_require__("./src/app/services/global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__main_main_component__ = __webpack_require__("./src/app/tournament/components/main/main.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__services_tournament_service__ = __webpack_require__("./src/app/services/tournament.service.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var PacksComponent = /** @class */ (function () {
    function PacksComponent(_http, _route, _router, _userService, _parentComponent, _tournamentService) {
        this._http = _http;
        this._route = _route;
        this._router = _router;
        this._userService = _userService;
        this._parentComponent = _parentComponent;
        this._tournamentService = _tournamentService;
        this.title = 'Perfil';
        this.env = __WEBPACK_IMPORTED_MODULE_3__services_global__["a" /* GLOBAL */].env;
        this.identity = this._userService.getIdentity();
        this.token = this._userService.getToken();
        this.url = __WEBPACK_IMPORTED_MODULE_3__services_global__["a" /* GLOBAL */].url;
        this.packs = this._tournamentService.packs;
        this.common = [];
        this.rare = [];
        this.epic = [];
        this.legendary = [];
        this.common_name = [];
        this.rare_name = [];
        this.epic_name = [];
        this.legendary_name = [];
        //CUIDADO CON EL HTTP Y HTTPS
        if (this.env == 'DE') {
            this.json_card_set = 'http://localhost:4200/assets/sobres/data/cards.collectible_es_ES.json';
        }
        else {
            this.json_card_set = 'https://roedor.net/assets/sobres/data/cards.collectible_es_ES.json';
        }
        this.total_cards_in_set = [];
        this.actualPack = [];
        this.json_cards_pool = [];
    }
    PacksComponent.prototype.ngOnInit = function () {
        this.getParticipant();
        //console.log(this._tournamentService.packs);
        //this.json_cards_pool = JSON.parse('[{"dbfId": 2539, "id": "AT_001", "name": "Lanza de llamas",	"quantity": 1}, {"dbfId": 2541, "id": "AT_002", "name": "Efigie", "quantity": 2}]');
        var url_pack = '{{site.uri.public}}/torneo/p/{{tournament.id}}';
        $("body").on("click", ".cardPack", function () {
            $(this).addClass("aberto");
            $(this).removeClass("fechado");
        });
        /*
                var sort_by = function(field, reverse, primer){
        
                   var key = primer ?
                       function(x) {return primer(x[field])} :
                       function(x) {return x[field]};
        
                   reverse = !reverse ? 1 : -1;
        
                   return function (a:<Number>, b) {
                       return a = key(a), b = key(b), reverse * ((a > b) - (b > a));
                     }
                }
        */
    };
    PacksComponent.prototype.openPack = function () {
        this.cards_shown = 0;
        $(".cardPack").show();
        $('#newPack').prop("disabled", true);
        this.buildCardArrays();
    };
    PacksComponent.prototype.buildCardArrays = function () {
        var _this = this;
        var image_prefix = "https:\/\/art.hearthstonejson.com\/v1\/render\/latest\/enUS\/256x\/";
        //var image_prefix = "http:\/\/media.services.zam.com\/v1\/media\/byName\/hs\/cards\/enus\/";
        var image_postfix = ".png";
        var image_tiles = "https://art.hearthstonejson.com/v1/tiles/CS2_084.png";
        //Get five new card rolls
        var rolls = this.getCardDistribution();
        var jsonCards;
        //If the card arrays aren't already filled...
        if (!this.common.length) {
            this._http.get(this.json_card_set).subscribe(function (data) {
                data.forEach(function (card) {
                    //Ensure only expert cards from packs are added to each array
                    if (card.collectible == true) {
                        if (card.rarity == 'COMMON') {
                            _this.common.push(image_prefix + card.id + image_postfix);
                            _this.common_name.push(card.name);
                            for (var x = 0; x < 2; x++) {
                                _this.total_cards_in_set.push([card.name, card.rarity]);
                            }
                            //alert(image_prefix + cards.id);
                        }
                        else if (card.rarity == 'RARE') {
                            _this.rare.push(image_prefix + card.id + image_postfix);
                            _this.rare_name.push(card.name);
                            for (var x = 0; x < 2; x++) {
                                _this.total_cards_in_set.push([card.name, card.rarity]);
                            }
                        }
                        else if (card.rarity == 'EPIC') {
                            _this.epic.push(image_prefix + card.id + image_postfix);
                            _this.epic_name.push(card.name);
                            for (var x = 0; x < 2; x++) {
                                _this.total_cards_in_set.push([card.name, card.rarity]);
                            }
                        }
                        else if (card.rarity == 'LEGENDARY') {
                            _this.legendary.push(image_prefix + card.id + image_postfix);
                            _this.legendary_name.push(card.name);
                            _this.total_cards_in_set.push([card.name, card.rarity]);
                        }
                    }
                });
                //console.log(this.total_cards_in_set);
                //Pass all this data to getCards which will determine quality and build the image URLs
                _this.getCards(rolls, _this.common, _this.rare, _this.epic, _this.legendary);
            }, function (err) {
                console.log(err);
            });
            /*
        }
    });
*/
            //Otherwise, just proceed to getCards with the new rolls
        }
        else {
            this.getCards(rolls, this.common, this.rare, this.epic, this.legendary);
        }
    };
    PacksComponent.prototype.getCardDistribution = function () {
        //Initialize rolls array and set a flag for 'special' (rare or better) cards
        var rolls = [], special;
        //Loop to get 5 random integers between 1 and 100
        for (var i = 0; i < 5; i++) {
            rolls[i] = this.getRandomInt(1, 100);
            if (rolls[i] > 74) {
                special = true;
            }
            // Kludge to guarantee a rare that is also outside the range of epic or legendary
            if (i == 4 && !special) {
                rolls[i] += 100;
            }
        }
        //Randomizes the roll order so the fifth card isn't usually the best
        return this.shuffle(rolls);
    };
    //Function for getting a random number between 'min' and 'max'
    PacksComponent.prototype.getRandomInt = function (min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    };
    //Function for randomizing the order of items in an array
    PacksComponent.prototype.shuffle = function (o) {
        for (var j, x, i = o.length; i; j = parseInt((Math.random() * i).toString()), x = o[--i], o[i] = o[j], o[j] = x)
            ;
        return o;
    };
    //Function to do a string replacement on a portion of the image URL to show a golden card instead
    PacksComponent.prototype.goldenUpgrade = function (idText, find, replace) {
        var replaceString = idText;
        for (var i = 0; i < find.length; i++) {
            replaceString = replaceString.replace(find[i], replace[i]);
        }
        return replaceString;
    };
    //Function to determine the cards themselves and whether they are gold
    PacksComponent.prototype.getCards = function (rolls, common, rare, epic, legendary) {
        var normal = ['/medium/', '.png'], golden = ['/animated/', '_premium.gif'], quality = [], cards = [];
        //Loop through all five card rolls
        for (var i = 0; i < rolls.length; i++) {
            var tempCard;
            //If the card's roll is in the range of 1-74 (74% chance), it's a common
            if (rolls[i] < 75) {
                //Get the appropriate image URL from the common array
                var common_index = Math.floor(Math.random() * common.length);
                tempCard = common[common_index];
                //tempCard = common[Math.floor(Math.random() * common.length)];
                for (var x = 0; x < this.total_cards_in_set.length; x++) {
                    if (this.total_cards_in_set[x].name == this.common_name[common_index]) {
                        this.total_cards_in_set.splice(x, 1);
                        break;
                    }
                }
                //Do a roll to determine if the common is golden (supposedly 1/50 cards, 1/10 packs, or 2% overall)
                //If you get 3.7 commons per pack, and 10 packs is 37 commons, then 1 out of 37 should be golden (i.e. ~2.7% of commons are golden)
                /*
                        if (this.getRandomInt(1, 37) == 37) {
                            quality[i] = 'golden_common',
                            cards[i] = this.goldenUpgrade(tempCard, normal, golden);
                        } else {
                            quality[i] = 'common';
                            cards[i] = tempCard;
                        }
                */
                quality[i] = 'common';
                cards[i] = tempCard;
            }
            //If the card's roll is in the range of 75-95 (21% chance), it's a rare
            //If the card's roll is greater than 100, it's also a rare due to the guarantee
            if ((rolls[i] > 74 && rolls[i] < 96) || rolls[i] > 100) {
                var rare_index = Math.floor(Math.random() * rare.length);
                tempCard = rare[rare_index];
                //tempCard = rare[Math.floor(Math.random() * rare.length)];
                for (var x = 0; x < this.total_cards_in_set.length; x++) {
                    if (this.total_cards_in_set[x].name == this.rare_name[rare_index]) {
                        this.total_cards_in_set.splice(x, 1);
                        break;
                    }
                }
                //Do a roll to determine if the rare is golden (supposedly 1/100 cards, 1/20 packs, or 1% overall)
                //If you get roughly 1.1 rares per pack, and 20 packs is 22 rares, then 1 out of 22 should be golden (i.e. ~4.55% of rares are golden)
                //But then there's the 'rare guarantee,'' which skews this, so I'm arbitrarily lowering chances by ~25%... sigh...
                /*
                        if (this.getRandomInt(1, 28) == 28) {
                            quality[i] = 'golden_rare',
                            cards[i] = this.goldenUpgrade(tempCard, normal, golden);
                        } else {
                            quality[i] = 'rare';
                            cards[i] = tempCard;
                        }
                */
                quality[i] = 'rare';
                cards[i] = tempCard;
            }
            //If the card's roll is in the range of 96-99 (4% chance), it's an epic
            if (rolls[i] > 95 && rolls[i] < 100) {
                var epic_index = Math.floor(Math.random() * epic.length);
                tempCard = epic[epic_index];
                //tempCard = epic[Math.floor(Math.random() * epic.length)];
                for (var x = 0; x < this.total_cards_in_set.length; x++) {
                    if (this.total_cards_in_set[x].name == this.epic_name[epic_index]) {
                        this.total_cards_in_set.splice(x, 1);
                        break;
                    }
                }
                //Do a roll to determine if the epic is golden (supposedly 1/400 cards, 1/80 packs, or 0.25% overall)
                //If you get roughly 0.2 epics per pack, and 80 packs is 16 epics, then 1/16 should be golden (i.e. ~6.25% of epics are golden)
                /*
                        if (this.getRandomInt(1, 16) == 16) {
                            quality[i] = 'golden_epic',
                            cards[i] = this.goldenUpgrade(tempCard, normal, golden);
                        } else {
                            quality[i] = 'epic';
                            cards[i] = tempCard;
                        }
                */
                quality[i] = 'epic';
                cards[i] = tempCard;
            }
            //If the card's roll is a perfect 100 (1% chance), it's a legendary
            if (rolls[i] == 100) {
                var legendary_index = Math.floor(Math.random() * legendary.length);
                tempCard = legendary[legendary_index];
                //tempCard = legendary[Math.floor(Math.random() * legendary.length)];
                for (var x = 0; x < this.total_cards_in_set.length; x++) {
                    if (this.total_cards_in_set[x].name == this.legendary_name[legendary_index]) {
                        this.total_cards_in_set.splice(x, 1);
                        break;
                    }
                }
                //Do a roll to determine if the legendary is golden (supposedly 1/2000 cards, 1/400 packs, or 0.05% overall)
                //If you get roughly 0.05 legendaries per pack, and 400 packs is 20 legendaries, then 1/20 should be golden (i.e. ~5% of legendaries are golden)
                /*
                        if (this.getRandomInt(1, 20) == 20) {
                            quality[i] = 'golden_legendary',
                            cards[i] = this.goldenUpgrade(tempCard, normal, golden);
                        } else {
                            quality[i] = 'legendary';
                            cards[i] = tempCard;
                        }
                */
                quality[i] = 'legendary';
                cards[i] = tempCard;
            }
        }
        ;
        //Send these results to the drawCards function, which will place the respective cards on the DOM
        this.drawCards(quality, cards);
    };
    PacksComponent.prototype.drawCards = function (quality, cards) {
        //mandamos las cartas al json de la BD
        var arr_pack = [];
        for (var i = 0; i < cards.length; i++) {
            arr_pack.push(cards[i].substring(cards[i].lastIndexOf("/") + 1, cards[i].lastIndexOf(".")));
        }
        this.actualPack = JSON.parse(JSON.stringify(arr_pack));
        //For each element with the 'card' class, replace its front-facing image with one of the new URLs
        $(".front", ".pack").each(function (i, card) {
            $(card).css("background-image", "url(" + cards[i] + ")");
            $(card).parent().attr("class", "cardPack fechado");
            //necesito poner la rareza en el class para el brillo???
            $(card).parent().addClass(quality[i]);
        });
        this.cardInteraction(quality);
    };
    PacksComponent.prototype.clickCard = function () {
        var _this = this;
        this.cards_shown++;
        if (this.cards_shown > 4) {
            //volcamos el sobre actual en el json de cartas conseguidas en la apertura
            //console.log(this.actualPack);
            //console.log(this.json_cards_pool);
            //TODO Arreglar esta mierda y utilizar el find() para buscar en el JSON
            this.actualPack.forEach(function (card) {
                var found = false;
                _this.json_cards_pool.forEach(function (cardPool) {
                    if (cardPool.id == card) {
                        cardPool.quantity++;
                        found = true;
                    }
                });
                if (found == false) {
                    _this.json_cards_pool.push({ 'id': card, 'quantity': 1 });
                }
            });
            //console.log(this.json_cards_pool);
            this._tournamentService.addPackTournament(this.token, this._parentComponent.tournamentId, this.json_cards_pool).subscribe(function (response) {
                if (response.poolUpdated) {
                    //console.log(response.deck);
                    _this.json_cards_pool = response.poolUpdated;
                }
            }, function (error) {
                var errorMessage = error;
                if (errorMessage != null) {
                    _this.status = 'error';
                }
            });
            this._tournamentService.packs--;
        }
    };
    PacksComponent.prototype.find_in_object = function (my_object, my_criteria) {
        return my_object.filter(function (obj) {
            return Object.keys(my_criteria).every(function (c) {
                return obj[c] == my_criteria[c];
            });
        });
    };
    PacksComponent.prototype.cardInteraction = function (quality) {
        //This variable will count the number of cards that have been clicked/shown each pack
        var cards_shown = 0;
        //For each card...
        $('.cardPack').each(function (i) {
            //Start by clearing this card's flags
            this.turned = false, this.clicked = false;
            //Get this particular card's rarity
            var card_rarity;
            if (quality[i].indexOf('common') != -1)
                card_rarity = 'common';
            if (quality[i].indexOf('rare') != -1)
                card_rarity = 'rare';
            if (quality[i].indexOf('epic') != -1)
                card_rarity = 'epic';
            if (quality[i].indexOf('legendary') != -1)
                card_rarity = 'legendary';
            //When a card is clicked...
            $(this).unbind('mousedown').mousedown(function (e) {
                //Set some flags for the element to prevent subsequent clicks and sound plays
                this.turned = true, this.clicked;
                if (this.turned && !this.clicked) {
                    //Flag that the element has been clicked, and increment cards_shown
                    this.clicked = true, cards_shown++;
                    $(this).removeClass(quality[i]);
                    //If all five cards have been revealed...
                    if (cards_shown > 4) {
                        $('#newPack').prop("disabled", false);
                    }
                    //Determine which side of the card the user clicked on
                    var cardX = e.pageX - $(this).offset().left;
                    if (cardX < 116) {
                        //Have it turn from the left
                        var backDir = '-180deg', frontDir = '0deg';
                    }
                    else {
                        //Have it turn from the right
                        var backDir = '180deg', frontDir = '360deg';
                    }
                    //Turn the card around
                    $('div.back', this).css({
                        'transform': 'perspective(1000px) rotateY(' + backDir + ')',
                        '-webkit-transform': 'perspective(1000px) rotateY(' + backDir + ')',
                        //'-webkit-filter': 'drop-shadow(0 0 3px white)',
                        'transition': 'transform 800ms ease-in-out 300ms',
                        '-webkit-transition': '-webkit-transform 800ms ease-in-out 300ms'
                        //'-webkit-transition': '-webkit-filter 1667ms 333ms'
                    });
                    $('div.front', this).css({
                        'transform': 'perspective(1000px) rotateY(' + frontDir + ')',
                        '-webkit-transform': 'perspective(1000px) rotateY(' + frontDir + ')',
                        //'-webkit-filter': 'drop-shadow(0 0 0 white)',
                        'transition': 'transform 800ms ease-in-out 300ms',
                        '-webkit-transition': '-webkit-transform 800ms ease-in-out 300ms'
                        //'-webkit-transition': '-webkit-filter 333ms 1667ms'
                    });
                    $('.card_glow', this).css({
                        'box-shadow': 'none',
                        'transition': 'box-shadow 600ms',
                        '-webkit-transition': 'box-shadow 600ms'
                    });
                }
            });
        });
    };
    PacksComponent.prototype.getParticipant = function () {
        var _this = this;
        this._tournamentService.getParticipant(this.token, this._parentComponent.tournamentId, this.identity._id).subscribe(function (response) {
            if (response.participant) {
                _this.participant = response.participant;
                _this._tournamentService.packs = _this.participant.packs;
                if (_this.participant.cards_pool) {
                    _this.json_cards_pool = JSON.parse(_this.participant.cards_pool);
                }
            }
        }, function (error) {
            var errorMessage = error;
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    PacksComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'packs',
            template: __webpack_require__("./src/app/tournament/components/packs/packs.component.html"),
            providers: [__WEBPACK_IMPORTED_MODULE_5__services_user_service__["a" /* UserService */], __WEBPACK_IMPORTED_MODULE_6__services_tournament_service__["a" /* TournamentService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["a" /* HttpClient */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_5__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_4__main_main_component__["a" /* MainComponent */],
            __WEBPACK_IMPORTED_MODULE_6__services_tournament_service__["a" /* TournamentService */]])
    ], PacksComponent);
    return PacksComponent;
}());



/***/ }),

/***/ "./src/app/tournament/components/rules/rules.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"row\">\r\n  <div class=\"col-lg-2\">\r\n    <div class=\"card\">\r\n      <div class=\"card-header\">\r\n        Premios\r\n      </div>\r\n      <div class=\"card-body\">\r\n        asdasdad\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"col-lg-8\">\r\n    <div class=\"card\">\r\n      <div class=\"card-header\">\r\n        Reglas del torneo\r\n      </div>\r\n      <div class=\"card-body\" *ngIf=\"tournament && tournament.rules\">\r\n        {{tournament.rules}}\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"col-lg-2\">\r\n    <ul class=\"list-group\">\r\n      <li class=\"list-group-item list-group-item-dark\">BO{{tournament.bo}}</li>\r\n      <li class=\"list-group-item list-group-item-dark\">{{tournament.bans}} bans</li>\r\n    </ul>\r\n\r\n  </div>\r\n\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/tournament/components/rules/rules.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RulesComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_global__ = __webpack_require__("./src/app/services/global.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_tournament_service__ = __webpack_require__("./src/app/services/tournament.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__main_main_component__ = __webpack_require__("./src/app/tournament/components/main/main.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var RulesComponent = /** @class */ (function () {
    function RulesComponent(_route, _router, _tournamentService, _userService, _parentComponent) {
        this._route = _route;
        this._router = _router;
        this._tournamentService = _tournamentService;
        this._userService = _userService;
        this._parentComponent = _parentComponent;
        this.url = __WEBPACK_IMPORTED_MODULE_2__services_global__["a" /* GLOBAL */].url;
        this.token = this._userService.getToken();
        //this.tournament = new Tournament();
    }
    RulesComponent.prototype.ngOnInit = function () {
        //console.log('rules.component cargado');
        this.getTournament();
    };
    RulesComponent.prototype.getTournament = function () {
        var _this = this;
        this._tournamentService.getTournament(this.token, this._parentComponent.tournamentId).subscribe(function (response) {
            console.log(response);
            if (response.tournament) {
                _this.tournament = response.tournament;
            }
            else {
                _this.status = 'error';
            }
        }, function (error) {
            var errorMessage = error;
            if (errorMessage != null) {
                _this.status = 'error';
            }
        });
    };
    RulesComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'rules',
            template: __webpack_require__("./src/app/tournament/components/rules/rules.component.html"),
            providers: [__WEBPACK_IMPORTED_MODULE_3__services_tournament_service__["a" /* TournamentService */], __WEBPACK_IMPORTED_MODULE_4__services_user_service__["a" /* UserService */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* ActivatedRoute */],
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* Router */],
            __WEBPACK_IMPORTED_MODULE_3__services_tournament_service__["a" /* TournamentService */],
            __WEBPACK_IMPORTED_MODULE_4__services_user_service__["a" /* UserService */],
            __WEBPACK_IMPORTED_MODULE_5__main_main_component__["a" /* MainComponent */]])
    ], RulesComponent);
    return RulesComponent;
}());



/***/ }),

/***/ "./src/app/tournament/tournament-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TournamentRoutingModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("./node_modules/@angular/router/esm5/router.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_main_main_component__ = __webpack_require__("./src/app/tournament/components/main/main.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_detail_detail_component__ = __webpack_require__("./src/app/tournament/components/detail/detail.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_rules_rules_component__ = __webpack_require__("./src/app/tournament/components/rules/rules.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_bracket_bracket_component__ = __webpack_require__("./src/app/tournament/components/bracket/bracket.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_match_match_component__ = __webpack_require__("./src/app/tournament/components/match/match.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__components_decks_decks_component__ = __webpack_require__("./src/app/tournament/components/decks/decks.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__components_packs_packs_component__ = __webpack_require__("./src/app/tournament/components/packs/packs.component.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


// components







var tournamentRoutes = [
    {
        path: 'tournament/:id',
        component: __WEBPACK_IMPORTED_MODULE_2__components_main_main_component__["a" /* MainComponent */],
        children: [
            { path: '', redirectTo: 'lobby', pathMatch: 'full' },
            { path: 'lobby', component: __WEBPACK_IMPORTED_MODULE_3__components_detail_detail_component__["a" /* DetailComponent */] },
            { path: 'rules', component: __WEBPACK_IMPORTED_MODULE_4__components_rules_rules_component__["a" /* RulesComponent */] },
            { path: 'bracket', component: __WEBPACK_IMPORTED_MODULE_5__components_bracket_bracket_component__["a" /* BracketComponent */] },
            { path: 'match/:match', component: __WEBPACK_IMPORTED_MODULE_6__components_match_match_component__["a" /* MatchComponent */] },
            { path: 'decks', component: __WEBPACK_IMPORTED_MODULE_7__components_decks_decks_component__["a" /* DecksComponent */] },
            { path: 'packs', component: __WEBPACK_IMPORTED_MODULE_8__components_packs_packs_component__["a" /* PacksComponent */] }
        ]
    }
];
var TournamentRoutingModule = /** @class */ (function () {
    function TournamentRoutingModule() {
    }
    TournamentRoutingModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* RouterModule */].forChild(tournamentRoutes)
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* RouterModule */]
            ]
        })
    ], TournamentRoutingModule);
    return TournamentRoutingModule;
}());



/***/ }),

/***/ "./src/app/tournament/tournament.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TournamentModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("./node_modules/@angular/common/esm5/common.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("./node_modules/@angular/forms/esm5/forms.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_angular2_moment__ = __webpack_require__("./node_modules/angular2-moment/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_angular2_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_angular2_moment__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__tournament_routing_module__ = __webpack_require__("./src/app/tournament/tournament-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_main_main_component__ = __webpack_require__("./src/app/tournament/components/main/main.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_detail_detail_component__ = __webpack_require__("./src/app/tournament/components/detail/detail.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__components_rules_rules_component__ = __webpack_require__("./src/app/tournament/components/rules/rules.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__components_bracket_bracket_component__ = __webpack_require__("./src/app/tournament/components/bracket/bracket.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__components_match_match_component__ = __webpack_require__("./src/app/tournament/components/match/match.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__components_decks_decks_component__ = __webpack_require__("./src/app/tournament/components/decks/decks.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__components_packs_packs_component__ = __webpack_require__("./src/app/tournament/components/packs/packs.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__services_user_service__ = __webpack_require__("./src/app/services/user.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__services_tournament_service__ = __webpack_require__("./src/app/services/tournament.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__services_match_service__ = __webpack_require__("./src/app/services/match.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__services_user_guard__ = __webpack_require__("./src/app/services/user.guard.ts");
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
// Módulos




// Rutas

// Componentes







// Servicios




var TournamentModule = /** @class */ (function () {
    function TournamentModule() {
    }
    TournamentModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_5__components_main_main_component__["a" /* MainComponent */],
                __WEBPACK_IMPORTED_MODULE_6__components_detail_detail_component__["a" /* DetailComponent */],
                __WEBPACK_IMPORTED_MODULE_7__components_rules_rules_component__["a" /* RulesComponent */],
                __WEBPACK_IMPORTED_MODULE_8__components_bracket_bracket_component__["a" /* BracketComponent */],
                __WEBPACK_IMPORTED_MODULE_9__components_match_match_component__["a" /* MatchComponent */],
                __WEBPACK_IMPORTED_MODULE_10__components_decks_decks_component__["a" /* DecksComponent */],
                __WEBPACK_IMPORTED_MODULE_11__components_packs_packs_component__["a" /* PacksComponent */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_common__["b" /* CommonModule */],
                __WEBPACK_IMPORTED_MODULE_2__angular_forms__["a" /* FormsModule */],
                __WEBPACK_IMPORTED_MODULE_4__tournament_routing_module__["a" /* TournamentRoutingModule */],
                __WEBPACK_IMPORTED_MODULE_3_angular2_moment__["MomentModule"]
            ],
            exports: [
                __WEBPACK_IMPORTED_MODULE_5__components_main_main_component__["a" /* MainComponent */],
                __WEBPACK_IMPORTED_MODULE_6__components_detail_detail_component__["a" /* DetailComponent */],
                __WEBPACK_IMPORTED_MODULE_7__components_rules_rules_component__["a" /* RulesComponent */],
                __WEBPACK_IMPORTED_MODULE_8__components_bracket_bracket_component__["a" /* BracketComponent */],
                __WEBPACK_IMPORTED_MODULE_9__components_match_match_component__["a" /* MatchComponent */],
                __WEBPACK_IMPORTED_MODULE_10__components_decks_decks_component__["a" /* DecksComponent */],
                __WEBPACK_IMPORTED_MODULE_11__components_packs_packs_component__["a" /* PacksComponent */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_12__services_user_service__["a" /* UserService */],
                __WEBPACK_IMPORTED_MODULE_13__services_tournament_service__["a" /* TournamentService */],
                __WEBPACK_IMPORTED_MODULE_14__services_match_service__["a" /* MatchService */],
                __WEBPACK_IMPORTED_MODULE_15__services_user_guard__["a" /* UserGuard */]
            ]
        })
    ], TournamentModule);
    return TournamentModule;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return environment; });
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    production: false
};


/***/ }),

/***/ "./src/main.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("./node_modules/@angular/core/esm5/core.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__ = __webpack_require__("./node_modules/@angular/platform-browser-dynamic/esm5/platform-browser-dynamic.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__app_app_module__ = __webpack_require__("./src/app/app.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__environments_environment__ = __webpack_require__("./src/environments/environment.ts");




if (__WEBPACK_IMPORTED_MODULE_3__environments_environment__["a" /* environment */].production) {
    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["enableProdMode"])();
}
Object(__WEBPACK_IMPORTED_MODULE_1__angular_platform_browser_dynamic__["a" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_2__app_app_module__["a" /* AppModule */])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("./src/main.ts");


/***/ }),

/***/ 1:
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

},[0]);
//# sourceMappingURL=main.bundle.js.map